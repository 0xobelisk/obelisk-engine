System.register(["./index-433d8403.js","./deprecated-48c82c8e.js","./director-c293a59c.js","./node-event-0336ef70.js","./collision-matrix-00c79502.js","./pipeline-state-manager-c8832894.js","./util-42015a41.js","./mesh-8d5cf67e.js","./skeleton-389ab8d7.js","./terrain-asset-7cf62450.js"],(function(t){"use strict";var e,i,n,o,r,s,a,p,c,u,h,l,y,_,g,f,d,m,w,v,S,b,C,D,k,E,P,O,T,M,L,x,A,I,F,B,j,z,R,N,H,V,W,G,q,U,Y,X,K,Z,J,Q,$,tt,et,it;return{setters:[function(t){e=t.bE,i=t.bX,n=t.bF,o=t.bC,r=t.bH,s=t.bI,a=t.ax,p=t.c6,c=t.G,u=t.bj,h=t.o,l=t.c0,y=t.a,_=t.w,g=t.f,f=t.l,d=t.b2,m=t.b1,w=t.R,v=t.ad,S=t.bB,b=t.b3,C=t.cu,D=t.cx,k=t.e,E=t.aH,P=t.c5,O=t.c4,T=t.a6,M=t.d,L=t.cJ,x=t.ay,A=t.bi},function(t){I=t.g},function(t){F=t.be,B=t.b6,j=t.aU,z=t.aT},function(t){R=t.A,N=t.C},function(t){H=t.b,V=t.d,W=t.e,G=t.P,q=t.C,U=t.a,Y=t.E,X=t.f,K=t.g,Z=t.h,J=t.i,Q=t.c},function(){},function(t){$=t.a,tt=t.u},function(t){et=t.M},function(){},function(t){it=t.T}],execute:function(){var nt,ot,rt,st,at,pt,ct,ut,ht,lt,yt,_t,gt,ft=t("c",(nt=e("cc.PhysicsMaterial"),ot=i(a),rt=i(a),st=i(a),at=i(a),nt(((_t=function(t){function e(){var i;return(i=t.call(this)||this).id=void 0,i._friction=ut&&ut(),i._rollingFriction=ht&&ht(),i._spinningFriction=lt&&lt(),i._restitution=yt&&yt(),e.allMaterials.push(p(i)),i.id=e._idCounter++,i._uuid||(i._uuid="pm_"+i.id),i}n(e,t);var i=e.prototype;return i.clone=function(){var t=new e;return t._friction=this._friction,t._restitution=this._restitution,t._rollingFriction=this._rollingFriction,t._spinningFriction=this._spinningFriction,t},i.destroy=function(){if(t.prototype.destroy.call(this)){var i=e.allMaterials.indexOf(this);return i>=0&&e.allMaterials.splice(i,1),!0}return!1},i.setValues=function(t,i,n,o){var r=this._friction!==t||this._rollingFriction!==i||this._spinningFriction!==n||this._restitution!==o;this._friction=t,this._rollingFriction=i,this._spinningFriction=n,this._restitution=o,r&&this.emit(e.EVENT_UPDATE)},o(e,[{key:"friction",get:function(){return this._friction},set:function(t){c(this._friction,t)||(this._friction=t,this.emit(e.EVENT_UPDATE))}},{key:"rollingFriction",get:function(){return this._rollingFriction},set:function(t){c(this._rollingFriction,t)||(this._rollingFriction=t,this.emit(e.EVENT_UPDATE))}},{key:"spinningFriction",get:function(){return this._spinningFriction},set:function(t){c(this._spinningFriction,t)||(this._spinningFriction=t,this.emit(e.EVENT_UPDATE))}},{key:"restitution",get:function(){return this._restitution},set:function(t){c(this._restitution,t)||(this._restitution=t,this.emit(e.EVENT_UPDATE))}}]),e}(R)).allMaterials=[],_t.EVENT_UPDATE="event_update",_t._idCounter=0,r((ct=_t).prototype,"friction",[ot],Object.getOwnPropertyDescriptor(ct.prototype,"friction"),ct.prototype),r(ct.prototype,"rollingFriction",[rt],Object.getOwnPropertyDescriptor(ct.prototype,"rollingFriction"),ct.prototype),r(ct.prototype,"spinningFriction",[st],Object.getOwnPropertyDescriptor(ct.prototype,"spinningFriction"),ct.prototype),r(ct.prototype,"restitution",[at],Object.getOwnPropertyDescriptor(ct.prototype,"restitution"),ct.prototype),ut=s(ct.prototype,"_friction",[u],(function(){return.6})),ht=s(ct.prototype,"_rollingFriction",[u],(function(){return 0})),lt=s(ct.prototype,"_spinningFriction",[u],(function(){return 0})),yt=s(ct.prototype,"_restitution",[u],(function(){return 0})),pt=ct))||pt)),dt=t("g",function(){function t(){this._hitPoint=new h,this._hitNormal=new h,this._distance=0,this._collider=null}var e=t.prototype;return e._assign=function(t,e,i,n){h.copy(this._hitPoint,t),h.copy(this._hitNormal,n),this._distance=e,this._collider=i},e.clone=function(){var e=new t;return h.copy(e._hitPoint,this._hitPoint),h.copy(e._hitNormal,this._hitNormal),e._distance=this._distance,e._collider=this._collider,e},o(t,[{key:"hitPoint",get:function(){return this._hitPoint}},{key:"distance",get:function(){return this._distance}},{key:"collider",get:function(){return this._collider}},{key:"hitNormal",get:function(){return this._hitNormal}}]),t}()),mt=t("h",function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._id=0,e}n(e,t);var i=e.prototype;return i._assign=function(e,i,n,o,r){void 0===r&&(r=0),t.prototype._assign.call(this,e,i,n,o),this._id=r},i.clone=function(){var t=new e;return h.copy(t._hitPoint,this._hitPoint),h.copy(t._hitNormal,this._hitNormal),t._distance=this._distance,t._collider=this._collider,t._id=this._id,t},o(e,[{key:"id",get:function(){return this._id}}]),e}(dt));function wt(t){f._global.CC_PHYSICS_BUILTIN="builtin"===t,f._global.CC_PHYSICS_CANNON="cannon.js"===t,f._global.CC_PHYSICS_AMMO="bullet"===t}var vt,St=t("s",{id:"",switchTo:function(t){if(St.runInEditor){var e=St;if(St.physicsWorld&&t!==St.id&&null!=St.backend[t]?(St.physicsWorld.destroy(),y("[PHYSICS]: switch from "+St.id+" to "+t+"."),wt(t),e.id=t,e.wrapper=St.backend[t],e.physicsWorld=kt()):(y("[PHYSICS]: using "+t+"."),e.physicsWorld=kt()),gt){var i=e.physicsWorld;i.setGravity(gt.gravity),i.setAllowSleep(gt.allowSleep)}}},register:function(t,e){if(y("[PHYSICS]: register "+t+"."),St.backend[t]=e,!St.physicsWorld||St.id===t){wt(t);var i=St;i.id=t,i.wrapper=e}},wrapper:{},backend:{},physicsWorld:null,runInEditor:!l}),bt=function(){return 0},Ct={impl:null,debugDrawFlags:0,debugDrawConstraintSize:0,setGravity:bt,setAllowSleep:bt,setDefaultMaterial:bt,step:bt,syncAfterEvents:bt,syncSceneToPhysics:bt,raycast:bt,raycastClosest:bt,sweepBox:bt,sweepBoxClosest:bt,sweepSphere:bt,sweepSphereClosest:bt,sweepCapsule:bt,sweepCapsuleClosest:bt,emitEvents:bt,destroy:bt};function Dt(t,e){return null==t&&(St.id?_(St.id+" physics does not support "+vt[e]):g(9600),!0)}function kt(){return Dt(St.wrapper.PhysicsWorld,vt.World)?Ct:new St.wrapper.PhysicsWorld}!function(t){t[t.World=0]="World",t[t.RigidBody=1]="RigidBody",t[t.BoxCollider=2]="BoxCollider",t[t.SphereCollider=3]="SphereCollider",t[t.CapsuleCollider=4]="CapsuleCollider",t[t.MeshCollider=5]="MeshCollider",t[t.CylinderCollider=6]="CylinderCollider",t[t.ConeCollider=7]="ConeCollider",t[t.TerrainCollider=8]="TerrainCollider",t[t.SimplexCollider=9]="SimplexCollider",t[t.PlaneCollider=10]="PlaneCollider",t[t.PointToPointConstraint=11]="PointToPointConstraint",t[t.HingeConstraint=12]="HingeConstraint",t[t.FixedConstraint=13]="FixedConstraint",t[t.ConfigurableConstraint=14]="ConfigurableConstraint",t[t.BoxCharacterController=15]="BoxCharacterController",t[t.CapsuleCharacterController=16]="CapsuleCharacterController"}(vt||(vt={}));var Et={impl:null,rigidBody:null,isAwake:!1,isSleepy:!1,isSleeping:!1,initialize:bt,onEnable:bt,onDisable:bt,onDestroy:bt,setType:bt,setMass:bt,setLinearDamping:bt,setAngularDamping:bt,useGravity:bt,setLinearFactor:bt,setAngularFactor:bt,setAllowSleep:bt,wakeUp:bt,sleep:bt,clearState:bt,clearForces:bt,clearVelocity:bt,setSleepThreshold:bt,getSleepThreshold:bt,getLinearVelocity:bt,setLinearVelocity:bt,getAngularVelocity:bt,setAngularVelocity:bt,applyForce:bt,applyLocalForce:bt,applyImpulse:bt,applyLocalImpulse:bt,applyTorque:bt,applyLocalTorque:bt,setGroup:bt,getGroup:bt,addGroup:bt,removeGroup:bt,setMask:bt,getMask:bt,addMask:bt,removeMask:bt,isUsingCCD:bt,useCCD:bt},Pt={INITED:!1},Ot={impl:null,collider:null,attachedRigidBody:null,initialize:bt,onLoad:bt,onEnable:bt,onDisable:bt,onDestroy:bt,setGroup:bt,getGroup:bt,addGroup:bt,removeGroup:bt,setMask:bt,getMask:bt,addMask:bt,removeMask:bt,setMaterial:bt,setAsTrigger:bt,setCenter:bt,getAABB:bt,getBoundingSphere:bt,updateSize:bt,updateRadius:bt,setRadius:bt,setCylinderHeight:bt,setDirection:bt,setHeight:bt,setShapeType:bt,setVertices:bt,setMesh:bt,setTerrain:bt,setNormal:bt,setConstant:bt,updateEventListener:bt};var Tt={INITED:!1},Mt={impl:null,initialize:bt,onLoad:bt,onEnable:bt,onDisable:bt,onDestroy:bt,setEnableCollision:bt,setConnectedBody:bt,setPivotA:bt,setPivotB:bt,setAxis:bt,setSecondaryAxis:bt,setBreakForce:bt,setBreakTorque:bt,setConstraintMode:bt,setLinearLimit:bt,setAngularExtent:bt,setLinearSoftConstraint:bt,setLinearStiffness:bt,setLinearDamping:bt,setLinearRestitution:bt,setSwingSoftConstraint:bt,setTwistSoftConstraint:bt,setSwingStiffness:bt,setSwingDamping:bt,setSwingRestitution:bt,setTwistStiffness:bt,setTwistDamping:bt,setTwistRestitution:bt,setDriverMode:bt,setLinearMotorTarget:bt,setLinearMotorVelocity:bt,setLinearMotorForceLimit:bt,setAngularMotorTarget:bt,setAngularMotorVelocity:bt,setAngularMotorForceLimit:bt,setAutoPivotB:bt,setLimitEnabled:bt,setLowerLimit:bt,setUpperLimit:bt,setMotorEnabled:bt,setMotorVelocity:bt,setMotorForceLimit:bt};var Lt={INITED:!1},xt={initialize:bt,onLoad:bt,onEnable:bt,onDisable:bt,onDestroy:bt,onGround:bt,getPosition:bt,setPosition:bt,setStepOffset:bt,setSlopeLimit:bt,setContactOffset:bt,setDetectCollisions:bt,setOverlapRecovery:bt,setGroup:bt,getGroup:bt,addGroup:bt,removeGroup:bt,setMask:bt,getMask:bt,addMask:bt,removeMask:bt,move:bt,syncPhysicsToScene:bt,updateEventListener:bt,setHalfHeight:bt,setHalfSideExtent:bt,setHalfForwardExtent:bt,setRadius:bt,setHeight:bt};f.internal.PhysicsGroup=G;var At,It,Ft,Bt,jt,zt,Rt,Nt,Ht,Vt,Wt,Gt,qt,Ut,Yt,Xt,Kt=t("P",function(t){n(i,t);var e=i.prototype;function i(){var e;return(e=t.call(this)||this).raycastClosestResult=new dt,e.raycastResults=[],e.lineStripCastClosestResult=new mt,e.lineStripCastResults=[],e.sweepCastClosestResult=new dt,e.sweepCastResults=[],e.collisionMatrix=new q(1),e.minVolumeSize=1e-5,e.useNodeChains=!1,e._enable=!0,e._allowSleep=!0,e._maxSubSteps=1,e._subStepCount=0,e._fixedTimeStep=1/60,e._autoSimulation=!0,e._accumulator=0,e._sleepThreshold=.1,e._gravity=new h(0,-10,0),e._material=void 0,e.raycastOptions={group:-1,mask:-1,queryTrigger:!0,maxDistance:1e7},e.raycastResultPool=new w((function(){return new dt}),1),e.sweepResultPool=new w((function(){return new dt}),1),e}return e.setDefaultPhysicsMaterial=function(t){this._material=t,this.physicsWorld.setDefaultMaterial(this._material),this._material.on(ft.EVENT_UPDATE,this._updateMaterial,this)},e.initDefaultMaterial=function(){var t=this;if(null!=this._material)return Promise.resolve();var e=F.get("default-physics-material");if(!e)return console.error("PhysicsSystem initDefaultMaterial() Failed to load builtinMaterial"),Promise.resolve();var i=d.querySettings(m.Category.PHYSICS,"defaultMaterial");return i?new Promise((function(t,e){B.loadAny(i,(function(i,n){return!i&&n instanceof ft?t(n):e(i)}))})).then((function(e){t.setDefaultPhysicsMaterial(e)})).catch((function(n){_(n),_("Failed to load user customized default physics material: "+i+", will fallback to built-in default physics material"),t.setDefaultPhysicsMaterial(e)})):(this.setDefaultPhysicsMaterial(e),Promise.resolve())},e.postUpdate=function(t){if(this.physicsWorld)if(this._enable){if(this._autoSimulation){for(this._subStepCount=0,this._accumulator+=t,j.emit(z.EVENT_BEFORE_PHYSICS);this._subStepCount<this._maxSubSteps;){if(!(this._accumulator>=this._fixedTimeStep)){this.physicsWorld.syncSceneToPhysics();break}this.physicsWorld.syncSceneToPhysics(),this.physicsWorld.step(this._fixedTimeStep),this.physicsWorld.emitEvents(),this.physicsWorld.syncAfterEvents(),this._accumulator-=this._fixedTimeStep,this._subStepCount++}j.emit(z.EVENT_AFTER_PHYSICS)}}else this.physicsWorld.syncSceneToPhysics()},e.resetConfiguration=function(t){var e=t?t.allowSleep:d.querySettings(m.Category.PHYSICS,"allowSleep");"boolean"==typeof e&&(this._allowSleep=e);var i=t?t.fixedTimeStep:d.querySettings(m.Category.PHYSICS,"fixedTimeStep");"number"==typeof i&&(this._fixedTimeStep=i);var n=t?t.maxSubSteps:d.querySettings(m.Category.PHYSICS,"maxSubSteps");"number"==typeof n&&(this._maxSubSteps=n);var o=t?t.sleepThreshold:d.querySettings(m.Category.PHYSICS,"sleepThreshold");"number"==typeof o&&(this._sleepThreshold=o);var r=t?t.autoSimulation:d.querySettings(m.Category.PHYSICS,"autoSimulation");"boolean"==typeof r&&(this.autoSimulation=r);var s=t?t.gravity:d.querySettings(m.Category.PHYSICS,"gravity");s&&h.copy(this._gravity,s);var a=t?t.collisionMatrix:d.querySettings(m.Category.PHYSICS,"collisionMatrix");if(a)for(var p in a)this.collisionMatrix[""+(1<<parseInt(p))]=a[p];var c=t?t.collisionGroups:d.querySettings(m.Category.PHYSICS,"collisionGroups");c&&c instanceof Array&&(c.forEach((function(t){G[t.name]=1<<t.index})),v.update(G)),this.physicsWorld&&(this.physicsWorld.setGravity(this._gravity),this.physicsWorld.setAllowSleep(this._allowSleep))},e.resetAccumulator=function(t){void 0===t&&(t=0),this._accumulator=t},e.step=function(t,e,i){this.physicsWorld&&this.physicsWorld.step(t,e,i)},e.syncSceneToPhysics=function(){this.physicsWorld&&this.physicsWorld.syncSceneToPhysics()},e.emitEvents=function(){this.physicsWorld&&this.physicsWorld.emitEvents()},e.raycast=function(t,e,i,n){return void 0===e&&(e=4294967295),void 0===i&&(i=1e7),void 0===n&&(n=!0),!!this.physicsWorld&&(this.raycastResultPool.reset(),this.raycastResults.length=0,this.raycastOptions.mask=e>>>0,this.raycastOptions.maxDistance=i,this.raycastOptions.queryTrigger=n,this.physicsWorld.raycast(t,this.raycastOptions,this.raycastResultPool,this.raycastResults))},e.raycastClosest=function(t,e,i,n){return void 0===e&&(e=4294967295),void 0===i&&(i=1e7),void 0===n&&(n=!0),!!this.physicsWorld&&(this.raycastOptions.mask=e>>>0,this.raycastOptions.maxDistance=i,this.raycastOptions.queryTrigger=n,this.physicsWorld.raycastClosest(t,this.raycastOptions,this.raycastClosestResult))},e.lineStripCast=function(t,e,i,n){if(void 0===e&&(e=4294967295),void 0===i&&(i=1e7),void 0===n&&(n=!0),t.length<2)return!1;this.lineStripCastResults=[];for(var o=0,r=new S,s=1;s<t.length&&!(o>i);++s){var a=t[s-1],p=t[s],c=new h;h.subtract(c,p,a);var u=h.len(c);if(o+=u,h.multiplyScalar(c,c,1/u),r.d=c,r.o=a,this.raycast(r,e,u,n))for(var l=0;l<this.raycastResults.length;l++){var y=this.raycastResults[l];if(0!==l||!h.equals(a,y.hitPoint)){var _=new mt;_._assign(y.hitPoint,y.distance,y.collider,y.hitNormal,s-1),this.lineStripCastResults.push(_)}}}return this.lineStripCastResults.length>0},e.lineStripCastClosest=function(t,e,i,n){if(void 0===e&&(e=4294967295),void 0===i&&(i=1e7),void 0===n&&(n=!0),t.length<2)return!1;for(var o=0,r=new S,s=!1,a=1;a<t.length&&!(o>i);++a){var p=t[a-1],c=t[a],u=new h;h.subtract(u,c,p);var l=h.len(u);if(o+=l,h.multiplyScalar(u,u,1/l),r.d=u,r.o=p,s=this.raycastClosest(r,e,l,n)){var y=this.raycastClosestResult,_=new mt;_._assign(y.hitPoint,y.distance,y.collider,y.hitNormal,a-1),this.lineStripCastClosestResult=_;break}}return s},e.sweepBox=function(t,e,i,n,o,r){return void 0===n&&(n=4294967295),void 0===o&&(o=1e7),void 0===r&&(r=!0),!!this.physicsWorld&&(this.sweepResultPool.reset(),this.sweepCastResults.length=0,this.raycastOptions.mask=n>>>0,this.raycastOptions.maxDistance=o,this.raycastOptions.queryTrigger=r,this.physicsWorld.sweepBox(t,e,i,this.raycastOptions,this.sweepResultPool,this.sweepCastResults))},e.sweepBoxClosest=function(t,e,i,n,o,r){return void 0===n&&(n=4294967295),void 0===o&&(o=1e7),void 0===r&&(r=!0),!!this.physicsWorld&&(this.raycastOptions.mask=n>>>0,this.raycastOptions.maxDistance=o,this.raycastOptions.queryTrigger=r,this.physicsWorld.sweepBoxClosest(t,e,i,this.raycastOptions,this.sweepCastClosestResult))},e.sweepSphere=function(t,e,i,n,o){return void 0===i&&(i=4294967295),void 0===n&&(n=1e7),void 0===o&&(o=!0),!!this.physicsWorld&&(this.sweepResultPool.reset(),this.sweepCastResults.length=0,this.raycastOptions.mask=i>>>0,this.raycastOptions.maxDistance=n,this.raycastOptions.queryTrigger=o,this.physicsWorld.sweepSphere(t,e,this.raycastOptions,this.sweepResultPool,this.sweepCastResults))},e.sweepSphereClosest=function(t,e,i,n,o){return void 0===i&&(i=4294967295),void 0===n&&(n=1e7),void 0===o&&(o=!0),!!this.physicsWorld&&(this.raycastOptions.mask=i>>>0,this.raycastOptions.maxDistance=n,this.raycastOptions.queryTrigger=o,this.physicsWorld.sweepSphereClosest(t,e,this.raycastOptions,this.sweepCastClosestResult))},e.sweepCapsule=function(t,e,i,n,o,r,s){return void 0===o&&(o=4294967295),void 0===r&&(r=1e7),void 0===s&&(s=!0),!!this.physicsWorld&&(this.sweepResultPool.reset(),this.sweepCastResults.length=0,this.raycastOptions.mask=o>>>0,this.raycastOptions.maxDistance=r,this.raycastOptions.queryTrigger=s,this.physicsWorld.sweepCapsule(t,e,i,n,this.raycastOptions,this.sweepResultPool,this.sweepCastResults))},e.sweepCapsuleClosest=function(t,e,i,n,o,r,s){return void 0===o&&(o=4294967295),void 0===r&&(r=1e7),void 0===s&&(s=!0),!!this.physicsWorld&&(this.raycastOptions.mask=o>>>0,this.raycastOptions.maxDistance=r,this.raycastOptions.queryTrigger=s,this.physicsWorld.sweepCapsuleClosest(t,e,i,n,this.raycastOptions,this.sweepCastClosestResult))},e._updateMaterial=function(){this.physicsWorld&&this.physicsWorld.setDefaultMaterial(this._material)},i.constructAndRegister=function(){var t;if((null===(t=d.querySettings(m.Category.PHYSICS,"enabled"))||void 0===t||t)&&!i._instance){var e=new i;i._instance=e,e.resetConfiguration(),function(t){if(gt||(gt=t),St.runInEditor&&!St.physicsWorld){y("[PHYSICS]: using "+St.id+".");var e=St.physicsWorld=kt();e.setGravity(gt.gravity),e.setAllowSleep(gt.allowSleep)}}(e),j.registerSystem(i.ID,e,e.priority),I.onPostProjectInitDelegate.add(e.initDefaultMaterial.bind(e))}},o(i,[{key:"enable",get:function(){return this._enable},set:function(t){this._enable=t}},{key:"allowSleep",get:function(){return this._allowSleep},set:function(t){this._allowSleep=t,this.physicsWorld&&this.physicsWorld.setAllowSleep(t)}},{key:"maxSubSteps",get:function(){return this._maxSubSteps},set:function(t){this._maxSubSteps=t}},{key:"fixedTimeStep",get:function(){return this._fixedTimeStep},set:function(t){this._fixedTimeStep=t}},{key:"gravity",get:function(){return this._gravity},set:function(t){this._gravity.set(t),this.physicsWorld&&this.physicsWorld.setGravity(t)}},{key:"sleepThreshold",get:function(){return this._sleepThreshold},set:function(t){this._sleepThreshold=t}},{key:"autoSimulation",get:function(){return this._autoSimulation},set:function(t){this._autoSimulation=t}},{key:"defaultMaterial",get:function(){return this._material}},{key:"physicsWorld",get:function(){return St.physicsWorld}},{key:"debugDrawFlags",get:function(){return this.physicsWorld.debugDrawFlags},set:function(t){this.physicsWorld.debugDrawFlags=t}},{key:"debugDrawConstraintSize",get:function(){return this.physicsWorld.debugDrawConstraintSize},set:function(t){this.physicsWorld.debugDrawConstraintSize=t}}],[{key:"PHYSICS_NONE",get:function(){return!St.id}},{key:"PHYSICS_BUILTIN",get:function(){return"builtin"===St.id}},{key:"PHYSICS_CANNON",get:function(){return"cannon.js"===St.id}},{key:"PHYSICS_BULLET",get:function(){return"bullet"===St.id}},{key:"PHYSICS_PHYSX",get:function(){return"physx"===St.id}},{key:"PhysicsGroup",get:function(){return G}},{key:"instance",get:function(){return i._instance}}]),i}(b));Kt.ID="PHYSICS",Kt._instance=null,j.once(z.EVENT_INIT,(function(){Kt.constructAndRegister()}));var Zt,Jt,Qt,$t,te,ee,ie,ne,oe,re,se,ae=t("R",(At=e("cc.RigidBody"),It=D(-1),Ft=i(Kt.PhysicsGroup),Bt=i(U),At(jt=C(jt=It(((Xt=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._body=null,e._group=Rt&&Rt(),e._type=Nt&&Nt(),e._mass=Ht&&Ht(),e._allowSleep=Vt&&Vt(),e._linearDamping=Wt&&Wt(),e._angularDamping=Gt&&Gt(),e._useGravity=qt&&qt(),e._linearFactor=Ut&&Ut(),e._angularFactor=Yt&&Yt(),e}n(e,t);var i=e.prototype;return i.onLoad=function(){St.runInEditor&&(this._body=Dt(St.wrapper.RigidBody,vt.RigidBody)?Et:new St.wrapper.RigidBody,this._body.initialize(this))},i.onEnable=function(){this._body&&this._body.onEnable()},i.onDisable=function(){this._body&&this._body.onDisable()},i.onDestroy=function(){this._body&&this._body.onDestroy()},i.applyForce=function(t,e){this._isInitialized&&this._body.applyForce(t,e)},i.applyLocalForce=function(t,e){this._isInitialized&&this._body.applyLocalForce(t,e)},i.applyImpulse=function(t,e){this._isInitialized&&this._body.applyImpulse(t,e)},i.applyLocalImpulse=function(t,e){this._isInitialized&&this._body.applyLocalImpulse(t,e)},i.applyTorque=function(t){this._isInitialized&&this._body.applyTorque(t)},i.applyLocalTorque=function(t){this._isInitialized&&this._body.applyLocalTorque(t)},i.wakeUp=function(){this._isInitialized&&this._body.wakeUp()},i.sleep=function(){this._isInitialized&&this._body.sleep()},i.clearState=function(){this._isInitialized&&this._body.clearState()},i.clearForces=function(){this._isInitialized&&this._body.clearForces()},i.clearVelocity=function(){this._isInitialized&&this._body.clearVelocity()},i.getLinearVelocity=function(t){this._isInitialized&&this._body.getLinearVelocity(t)},i.setLinearVelocity=function(t){this._isInitialized&&this._body.setLinearVelocity(t)},i.getAngularVelocity=function(t){this._isInitialized&&this._body.getAngularVelocity(t)},i.setAngularVelocity=function(t){this._isInitialized&&this._body.setAngularVelocity(t)},i.getGroup=function(){return this._isInitialized?this._body.getGroup():0},i.setGroup=function(t){this._isInitialized&&this._body.setGroup(t)},i.addGroup=function(t){this._isInitialized&&this._body.addGroup(t)},i.removeGroup=function(t){this._isInitialized&&this._body.removeGroup(t)},i.getMask=function(){return this._isInitialized?this._body.getMask():0},i.setMask=function(t){this._isInitialized&&this._body.setMask(t)},i.addMask=function(t){this._isInitialized&&this._body.addMask(t)},i.removeMask=function(t){this._isInitialized&&this._body.removeMask(t)},o(e,[{key:"group",get:function(){return this._group},set:function(t){this._group=t,this._body&&this._body.getGroup()!==t&&this._body.setGroup(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type!==t&&(this._type=t,this._body&&this._body.setType(t))}},{key:"mass",get:function(){return this._mass},set:function(t){this._mass!==t&&(t=t<=0?1e-4:t,this._mass=t,this._body&&this._body.setMass(t))}},{key:"allowSleep",get:function(){return this._allowSleep},set:function(t){this._allowSleep=t,this._body&&this._body.setAllowSleep(t)}},{key:"linearDamping",get:function(){return this._linearDamping},set:function(t){this._linearDamping=t,this._body&&this._body.setLinearDamping(t)}},{key:"angularDamping",get:function(){return this._angularDamping},set:function(t){this._angularDamping=t,this._body&&this._body.setAngularDamping(t)}},{key:"useGravity",get:function(){return this._useGravity},set:function(t){this._useGravity=t,this._body&&this._body.useGravity(t)}},{key:"linearFactor",get:function(){return this._linearFactor},set:function(t){h.copy(this._linearFactor,t),this._body&&this._body.setLinearFactor(this._linearFactor)}},{key:"angularFactor",get:function(){return this._angularFactor},set:function(t){h.copy(this._angularFactor,t),this._body&&this._body.setAngularFactor(this._angularFactor)}},{key:"sleepThreshold",get:function(){return this._isInitialized?this._body.getSleepThreshold():.1},set:function(t){this._isInitialized&&this._body.setSleepThreshold(t)}},{key:"useCCD",get:function(){return!!this._isInitialized&&this._body.isUsingCCD()},set:function(t){this._isInitialized&&this._body.useCCD(t)}},{key:"isAwake",get:function(){return!!this._isInitialized&&this._body.isAwake}},{key:"isSleepy",get:function(){return!!this._isInitialized&&this._body.isSleepy}},{key:"isSleeping",get:function(){return!!this._isInitialized&&this._body.isSleeping}},{key:"isStatic",get:function(){return this._type===U.STATIC},set:function(t){t&&this.isStatic||!t&&!this.isStatic||(this.type=t?U.STATIC:U.DYNAMIC)}},{key:"isDynamic",get:function(){return this._type===U.DYNAMIC},set:function(t){t&&this.isDynamic||!t&&!this.isDynamic||(this.type=t?U.DYNAMIC:U.KINEMATIC)}},{key:"isKinematic",get:function(){return this._type===U.KINEMATIC},set:function(t){t&&this.isKinematic||!t&&!this.isKinematic||(this.type=t?U.KINEMATIC:U.DYNAMIC)}},{key:"body",get:function(){return this._body}},{key:"_isInitialized",get:function(){var t=null===this._body;return t&&k("[Physics]: This component has not been call onLoad yet, please make sure the node has been added to the scene."),!t}}]),e}(N)).Type=U,r((zt=Xt).prototype,"group",[Ft],Object.getOwnPropertyDescriptor(zt.prototype,"group"),zt.prototype),r(zt.prototype,"type",[Bt],Object.getOwnPropertyDescriptor(zt.prototype,"type"),zt.prototype),Rt=s(zt.prototype,"_group",[u],(function(){return Kt.PhysicsGroup.DEFAULT})),Nt=s(zt.prototype,"_type",[u],(function(){return U.DYNAMIC})),Ht=s(zt.prototype,"_mass",[u],(function(){return 1})),Vt=s(zt.prototype,"_allowSleep",[u],(function(){return!0})),Wt=s(zt.prototype,"_linearDamping",[u],(function(){return.1})),Gt=s(zt.prototype,"_angularDamping",[u],(function(){return.1})),qt=s(zt.prototype,"_useGravity",[u],(function(){return!0})),Ut=s(zt.prototype,"_linearFactor",[u],(function(){return new h(1,1,1)})),Yt=s(zt.prototype,"_angularFactor",[u],(function(){return new h(1,1,1)})),jt=zt))||jt)||jt)||jt));ae||t("R",ae={});var pe,ce,ue,he,le,ye=t("C",(Zt=e("cc.Collider"),Jt=i(ae),Qt=i(ft),$t=i(h),te=i(ft),Zt(((se=function(t){function e(e){var i;return(i=t.call(this)||this).type=void 0,i._shape=null,i._aabb=null,i._boundingSphere=null,i._isSharedMaterial=!0,i._needTriggerEvent=!1,i._needCollisionEvent=!1,i._material=ne&&ne(),i._isTrigger=oe&&oe(),i._center=re&&re(),i.type=e,i}n(e,t);var i=e.prototype;return i.on=function(e,i,n,o){var r=t.prototype.on.call(this,e,i,n,o);return this._updateNeedEvent(e),r},i.off=function(e,i,n){t.prototype.off.call(this,e,i,n),this._updateNeedEvent()},i.once=function(e,i,n){var o=t.prototype.once.call(this,e,i,n);return this._updateNeedEvent(e),o},i.removeAll=function(e){t.prototype.removeAll.call(this,e),this._updateNeedEvent()},i.getGroup=function(){return this._isInitialized?this._shape.getGroup():0},i.setGroup=function(t){this._isInitialized&&this._shape.setGroup(t)},i.addGroup=function(t){this._isInitialized&&this._shape.addGroup(t)},i.removeGroup=function(t){this._isInitialized&&this._shape.removeGroup(t)},i.getMask=function(){return this._isInitialized?this._shape.getMask():0},i.setMask=function(t){this._isInitialized&&this._shape.setMask(t)},i.addMask=function(t){this._isInitialized&&this._shape.addMask(t)},i.removeMask=function(t){this._isInitialized&&this._shape.removeMask(t)},i.onLoad=function(){St.runInEditor&&(this.sharedMaterial=this._material,this._shape=function(t){return Pt.INITED||(Pt.INITED=!0,Pt[H.BOX]=function(){return Dt(St.wrapper.BoxShape,vt.BoxCollider)?Ot:new St.wrapper.BoxShape},Pt[H.SPHERE]=function(){return Dt(St.wrapper.SphereShape,vt.SphereCollider)?Ot:new St.wrapper.SphereShape},Pt[H.CAPSULE]=function(){return Dt(St.wrapper.CapsuleShape,vt.CapsuleCollider)?Ot:new St.wrapper.CapsuleShape},Pt[H.CYLINDER]=function(){return Dt(St.wrapper.CylinderShape,vt.CylinderCollider)?Ot:new St.wrapper.CylinderShape},Pt[H.CONE]=function(){return Dt(St.wrapper.ConeShape,vt.ConeCollider)?Ot:new St.wrapper.ConeShape},Pt[H.MESH]=function(){return Dt(St.wrapper.TrimeshShape,vt.MeshCollider)?Ot:new St.wrapper.TrimeshShape},Pt[H.TERRAIN]=function(){return Dt(St.wrapper.TerrainShape,vt.TerrainCollider)?Ot:new St.wrapper.TerrainShape},Pt[H.SIMPLEX]=function(){return Dt(St.wrapper.SimplexShape,vt.SimplexCollider)?Ot:new St.wrapper.SimplexShape},Pt[H.PLANE]=function(){return Dt(St.wrapper.PlaneShape,vt.PlaneCollider)?Ot:new St.wrapper.PlaneShape}),Pt[t]()}(this.type),this._shape.initialize(this),this._shape.onLoad())},i.onEnable=function(){this._shape&&this._shape.onEnable()},i.onDisable=function(){this._shape&&this._shape.onDisable()},i.onDestroy=function(){this._shape&&(this._needTriggerEvent=!1,this._needCollisionEvent=!1,this._shape.updateEventListener(),this._material&&this._material.off(ft.EVENT_UPDATE,this._updateMaterial,this),this._shape.onDestroy()),this._boundingSphere&&this._boundingSphere.destroy()},i._updateMaterial=function(){this._shape&&this._shape.setMaterial(this._material)},i._updateNeedEvent=function(t){this.isValid&&(void 0!==t?("onCollisionEnter"!==t&&"onCollisionStay"!==t&&"onCollisionExit"!==t||(this._needCollisionEvent=!0),"onTriggerEnter"!==t&&"onTriggerStay"!==t&&"onTriggerExit"!==t&&"onControllerTriggerEnter"!==t&&"onControllerTriggerStay"!==t&&"onControllerTriggerExit"!==t||(this._needTriggerEvent=!0)):(this.hasEventListener("onTriggerEnter")||this.hasEventListener("onTriggerStay")||this.hasEventListener("onTriggerExit")||this.hasEventListener("onControllerTriggerEnter")||this.hasEventListener("onControllerTriggerStay")||this.hasEventListener("onControllerTriggerExit")||(this._needTriggerEvent=!1),this.hasEventListener("onCollisionEnter")||this.hasEventListener("onCollisionStay")||this.hasEventListener("onCollisionExit")||(this._needCollisionEvent=!1)),this._shape&&this._shape.updateEventListener())},o(e,[{key:"attachedRigidBody",get:function(){return t=this.node,(e=t.getComponent(ae))&&e.isValid?e:null;var t,e}},{key:"sharedMaterial",get:function(){return this._material},set:function(t){this.material=t}},{key:"material",get:function(){return this._isSharedMaterial&&this._material&&(this._material.off(ft.EVENT_UPDATE,this._updateMaterial,this),this._material=this._material.clone(),this._material.on(ft.EVENT_UPDATE,this._updateMaterial,this),this._isSharedMaterial=!1),this._material},set:function(t){this._shape?(t&&this._material?this._material.id!==t.id&&(this._material.off(ft.EVENT_UPDATE,this._updateMaterial,this),t.on(ft.EVENT_UPDATE,this._updateMaterial,this),this._isSharedMaterial=!1,this._material=t):t&&!this._material?(t.on(ft.EVENT_UPDATE,this._updateMaterial,this),this._material=t):!t&&this._material&&(this._material.off(ft.EVENT_UPDATE,this._updateMaterial,this),this._material=t),this._updateMaterial()):this._material=t}},{key:"isTrigger",get:function(){return this._isTrigger},set:function(t){this._isTrigger=t,this._shape&&this._shape.setAsTrigger(this._isTrigger)}},{key:"center",get:function(){return this._center},set:function(t){h.copy(this._center,t),this._shape&&this._shape.setCenter(this._center)}},{key:"shape",get:function(){return this._shape}},{key:"worldBounds",get:function(){return null==this._aabb&&(this._aabb=new P),this._shape&&this._shape.getAABB(this._aabb),this._aabb}},{key:"boundingSphere",get:function(){return null==this._boundingSphere&&(this._boundingSphere=new O),this._shape&&this._shape.getBoundingSphere(this._boundingSphere),this._boundingSphere}},{key:"needTriggerEvent",get:function(){return this._needTriggerEvent}},{key:"needCollisionEvent",get:function(){return this._needCollisionEvent}},{key:"_isInitialized",get:function(){var t=null===this._shape;return t&&k("[Physics]: This component has not been call onLoad yet, please make sure the node has been added to the scene."),!t}}]),e}(E(N))).Type=H,se.Axis=Y,r((ie=se).prototype,"attachedRigidBody",[Jt],Object.getOwnPropertyDescriptor(ie.prototype,"attachedRigidBody"),ie.prototype),r(ie.prototype,"sharedMaterial",[Qt],Object.getOwnPropertyDescriptor(ie.prototype,"sharedMaterial"),ie.prototype),r(ie.prototype,"center",[$t],Object.getOwnPropertyDescriptor(ie.prototype,"center"),ie.prototype),ne=s(ie.prototype,"_material",[te],(function(){return null})),oe=s(ie.prototype,"_isTrigger",[u],(function(){return!1})),re=s(ie.prototype,"_center",[u],(function(){return new h})),ee=ie))||ee));ye||t("C",ye={});var _e,ge,fe,de,me,we,ve,Se,be,Ce,De,ke,Ee,Pe,Oe,Te,Me,Le,xe,Ae,Ie,Fe,Be,je,ze,Re,Ne,He,Ve,We,Ge,qe,Ue,Ye,Xe,Ke,Ze,Je,Qe,$e,ti,ei,ii,ni,oi,ri,si,ai,pi,ci,ui,hi,li,yi,_i=t("B",(pe=e("cc.BoxCollider"),ce=i(h),pe((he=function(t){function e(){var e;return(e=t.call(this,H.BOX)||this)._size=le&&le(),e}return n(e,t),o(e,[{key:"size",get:function(){return this._size},set:function(t){h.strictEquals(this._size,t)||(h.copy(this._size,t),$(this._size),this._shape&&this.shape.updateSize())}},{key:"shape",get:function(){return this._shape}}]),e}(ye),r(he.prototype,"size",[ce],Object.getOwnPropertyDescriptor(he.prototype,"size"),he.prototype),le=s(he.prototype,"_size",[u],(function(){return new h(1,1,1)})),ue=he))||ue)),gi=t("S",e("cc.SphereCollider")((ge=function(t){function e(){var e;return(e=t.call(this,H.SPHERE)||this)._radius=fe&&fe(),e}return n(e,t),o(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!==t&&(this._radius=Math.abs(t),this._shape&&this.shape.updateRadius())}},{key:"shape",get:function(){return this._shape}}]),e}(ye),fe=s(ge.prototype,"_radius",[u],(function(){return.5})),_e=ge))||_e),fi=t("b",(de=e("cc.CapsuleCollider"),me=i(Y),de((ve=function(t){function e(){var e;return(e=t.call(this,H.CAPSULE)||this)._radius=Se&&Se(),e._cylinderHeight=be&&be(),e._direction=Ce&&Ce(),e}n(e,t);var i=e.prototype;return i._getRadiusScale=function(){if(null==this.node)return 1;var t=this.node.worldScale;return this._direction===Y.Y_AXIS?Math.abs(T(t.x,t.z)):this._direction===Y.X_AXIS?Math.abs(T(t.y,t.z)):Math.abs(T(t.x,t.y))},i._getHeightScale=function(){if(null==this.node)return 1;var t=this.node.worldScale;return this._direction===Y.Y_AXIS?Math.abs(t.y):this._direction===Y.X_AXIS?Math.abs(t.x):Math.abs(t.z)},o(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!==t&&(this._radius=Math.abs(t),this._shape&&this.shape.setRadius(t))}},{key:"cylinderHeight",get:function(){return this._cylinderHeight},set:function(t){this._cylinderHeight!==t&&(this._cylinderHeight=Math.abs(t),this._shape&&this.shape.setCylinderHeight(t))}},{key:"direction",get:function(){return this._direction},set:function(t){(t=Math.floor(t))<Y.X_AXIS||t>Y.Z_AXIS||this._direction!==t&&(this._direction=t,this._shape&&this.shape.setDirection(t))}},{key:"height",get:function(){return 2*this._radius+this._cylinderHeight},set:function(t){var e=t-2*this._radius;e<0&&(e=0),this.cylinderHeight=e}},{key:"worldHeight",get:function(){return 2*this._radius*this._getRadiusScale()+this._cylinderHeight*this._getHeightScale()}},{key:"shape",get:function(){return this._shape}}]),e}(ye),r(ve.prototype,"direction",[me],Object.getOwnPropertyDescriptor(ve.prototype,"direction"),ve.prototype),Se=s(ve.prototype,"_radius",[u],(function(){return.5})),be=s(ve.prototype,"_cylinderHeight",[u],(function(){return 1})),Ce=s(ve.prototype,"_direction",[u],(function(){return Y.Y_AXIS})),we=ve))||we)),di=t("d",(De=e("cc.CylinderCollider"),ke=i(Y),De((Pe=function(t){function e(){var e;return(e=t.call(this,H.CYLINDER)||this)._radius=Oe&&Oe(),e._height=Te&&Te(),e._direction=Me&&Me(),e}return n(e,t),o(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!==t&&(this._radius=Math.abs(t),this._shape&&this.shape.setRadius(t))}},{key:"height",get:function(){return this._height},set:function(t){this._height!==t&&(this._height=Math.abs(t),this._shape&&this.shape.setHeight(t))}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction!==t&&(t<Y.X_AXIS||t>Y.Z_AXIS||(this._direction=t,this._shape&&this.shape.setDirection(t)))}},{key:"shape",get:function(){return this._shape}}]),e}(ye),r(Pe.prototype,"direction",[ke],Object.getOwnPropertyDescriptor(Pe.prototype,"direction"),Pe.prototype),Oe=s(Pe.prototype,"_radius",[u],(function(){return.5})),Te=s(Pe.prototype,"_height",[u],(function(){return 2})),Me=s(Pe.prototype,"_direction",[u],(function(){return Y.Y_AXIS})),Ee=Pe))||Ee)),mi=t("i",(Le=e("cc.ConeCollider"),xe=i(Y),Le((Ie=function(t){function e(){var e;return(e=t.call(this,H.CONE)||this)._radius=Fe&&Fe(),e._height=Be&&Be(),e._direction=je&&je(),e}return n(e,t),o(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!==t&&(this._radius=Math.abs(t),this._shape&&this.shape.setRadius(t))}},{key:"height",get:function(){return this._height},set:function(t){this._height!==t&&(t<0&&(t=0),this._height=t,this._shape&&this.shape.setHeight(t))}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction!==t&&(t<Y.X_AXIS||t>Y.Z_AXIS||(this._direction=t,this._shape&&this.shape.setDirection(t)))}},{key:"shape",get:function(){return this._shape}}]),e}(ye),r(Ie.prototype,"direction",[xe],Object.getOwnPropertyDescriptor(Ie.prototype,"direction"),Ie.prototype),Fe=s(Ie.prototype,"_radius",[u],(function(){return.5})),Be=s(Ie.prototype,"_height",[u],(function(){return 1})),je=s(Ie.prototype,"_direction",[u],(function(){return Y.Y_AXIS})),Ae=Ie))||Ae)),wi=t("M",(ze=e("cc.MeshCollider"),Re=i(et),ze((He=function(t){function e(){var e;return(e=t.call(this,H.MESH)||this)._mesh=Ve&&Ve(),e._convex=We&&We(),e}return n(e,t),e.prototype.onEnable=function(){if(t.prototype.onEnable.call(this),this.node){var e=this.node.getComponent(ae);e&&e.isValid&&e.type===U.DYNAMIC&&!this.convex&&M(9630,this.node.name)}},o(e,[{key:"mesh",get:function(){return this._mesh},set:function(t){this._mesh!==t&&(this._mesh=t,this._shape&&this.shape.setMesh(this._mesh))}},{key:"convex",get:function(){return this._convex},set:function(t){this._convex!==t&&(this._convex=t,this._shape&&this._mesh&&this.shape.setMesh(this._mesh))}},{key:"shape",get:function(){return this._shape}}]),e}(ye),r(He.prototype,"mesh",[Re],Object.getOwnPropertyDescriptor(He.prototype,"mesh"),He.prototype),Ve=s(He.prototype,"_mesh",[u],(function(){return null})),We=s(He.prototype,"_convex",[u],(function(){return!1})),Ne=He))||Ne)),vi=t("f",e("cc.ConstantForce")(Ge=L(ae)(Ge=C((qe=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._rigidBody=null,e._force=Ue&&Ue(),e._localForce=Ye&&Ye(),e._torque=Xe&&Xe(),e._localTorque=Ke&&Ke(),e._mask=0,e}n(e,t);var i=e.prototype;return i.onLoad=function(){this._rigidBody=this.node.getComponent(ae),this._maskUpdate(this._force,1),this._maskUpdate(this._localForce,2),this._maskUpdate(this._torque,4),this._maskUpdate(this._localTorque,8)},i.lateUpdate=function(){null!=this._rigidBody&&0!==this._mask&&(1&this._mask&&this._rigidBody.applyForce(this._force),2&this._mask&&this._rigidBody.applyLocalForce(this.localForce),4&this._mask&&this._rigidBody.applyTorque(this._torque),8&this._mask&&this._rigidBody.applyLocalTorque(this._localTorque))},i._maskUpdate=function(t,e){t.strictEquals(h.ZERO)?this._mask&=~e:this._mask|=e},o(e,[{key:"force",get:function(){return this._force},set:function(t){h.copy(this._force,t),this._maskUpdate(this._force,1)}},{key:"localForce",get:function(){return this._localForce},set:function(t){h.copy(this._localForce,t),this._maskUpdate(this.localForce,2)}},{key:"torque",get:function(){return this._torque},set:function(t){h.copy(this._torque,t),this._maskUpdate(this._torque,4)}},{key:"localTorque",get:function(){return this._localTorque},set:function(t){h.copy(this._localTorque,t),this._maskUpdate(this._localTorque,8)}}]),e}(N),Ue=s(qe.prototype,"_force",[u],(function(){return new h})),Ye=s(qe.prototype,"_localForce",[u],(function(){return new h})),Xe=s(qe.prototype,"_torque",[u],(function(){return new h})),Ke=s(qe.prototype,"_localTorque",[u],(function(){return new h})),Ge=qe))||Ge)||Ge)||Ge),Si=t("T",(Ze=e("cc.TerrainCollider"),Je=i(it),Ze(($e=function(t){function e(){var e;return(e=t.call(this,H.TERRAIN)||this)._terrain=ti&&ti(),e}return n(e,t),e.prototype.onEnable=function(){if(t.prototype.onEnable.call(this),this.node){var e=this.node.getComponent(ae);e&&e.isValid&&e.type===U.DYNAMIC&&M(9630,this.node.name)}},o(e,[{key:"terrain",get:function(){return this._terrain},set:function(t){this._terrain=t,this._shape&&this.shape.setTerrain(this._terrain)}},{key:"shape",get:function(){return this._shape}}]),e}(ye),r($e.prototype,"terrain",[Je],Object.getOwnPropertyDescriptor($e.prototype,"terrain"),$e.prototype),ti=s($e.prototype,"_terrain",[u],(function(){return null})),Qe=$e))||Qe)),bi=t("j",(ei=e("cc.SimplexCollider"),ii=i(X),ei(((ai=function(t){function e(){var e;return(e=t.call(this,H.SIMPLEX)||this)._shapeType=ri&&ri(),e._vertices=si&&si(),e}return n(e,t),e.prototype.updateVertices=function(){this._shape&&this.shape.setVertices(this._vertices)},o(e,[{key:"shapeType",get:function(){return this._shapeType},set:function(t){this._shapeType=t,this._shape&&this.shape.setShapeType(t)}},{key:"vertex0",get:function(){return this._vertices[0]},set:function(t){h.copy(this._vertices[0],t),this.updateVertices()}},{key:"vertex1",get:function(){return this._vertices[1]},set:function(t){h.copy(this._vertices[1],t),this.updateVertices()}},{key:"vertex2",get:function(){return this._vertices[2]},set:function(t){h.copy(this._vertices[2],t),this.updateVertices()}},{key:"vertex3",get:function(){return this._vertices[3]},set:function(t){h.copy(this._vertices[3],t),this.updateVertices()}},{key:"shape",get:function(){return this._shape}},{key:"vertices",get:function(){return this._vertices}}]),e}(ye)).ESimplexType=X,r((oi=ai).prototype,"shapeType",[ii],Object.getOwnPropertyDescriptor(oi.prototype,"shapeType"),oi.prototype),ri=s(oi.prototype,"_shapeType",[u],(function(){return X.TETRAHEDRON})),si=s(oi.prototype,"_vertices",[u],(function(){return[new h(0,0,0),new h(0,0,1),new h(1,0,0),new h(0,1,0)]})),ni=oi))||ni));bi||t("j",bi={});var Ci,Di,ki,Ei,Pi,Oi,Ti,Mi,Li,xi,Ai,Ii,Fi,Bi,ji,zi,Ri,Ni,Hi,Vi,Wi,Gi,qi,Ui,Yi,Xi,Ki,Zi,Ji,Qi,$i,tn,en,nn,on,rn,sn,an,pn,cn,un,hn,ln,yn,_n,gn,fn,dn,mn,wn,vn,Sn,bn,Cn,Dn,kn,En=t("k",(pi=e("cc.PlaneCollider"),ci=i(h),pi((hi=function(t){function e(){var e;return(e=t.call(this,H.PLANE)||this)._normal=li&&li(),e._constant=yi&&yi(),e}return n(e,t),e.prototype.onEnable=function(){if(t.prototype.onEnable.call(this),this.node){var e=this.node.getComponent(ae);e&&e.isValid&&e.type===U.DYNAMIC&&M(9630,this.node.name)}},o(e,[{key:"normal",get:function(){return this._normal},set:function(t){h.strictEquals(this._normal,t)||(h.copy(this._normal,t),this._shape&&this.shape.setNormal(this._normal))}},{key:"constant",get:function(){return this._constant},set:function(t){this._constant!==t&&(this._constant=t,this._shape&&this.shape.setConstant(this._constant))}},{key:"shape",get:function(){return this._shape}}]),e}(ye),r(hi.prototype,"normal",[ci],Object.getOwnPropertyDescriptor(hi.prototype,"normal"),hi.prototype),li=s(hi.prototype,"_normal",[u],(function(){return new h(0,1,0)})),yi=s(hi.prototype,"_constant",[u],(function(){return 0})),ui=hi))||ui)),Pn=t("a",(Ci=e("cc.Constraint"),Di=L(ae),ki=i(ae),Ei=i(ae),Pi=i(ae),Ci(Oi=Di(((xi=function(t){function e(e){var i;return(i=t.call(this)||this).TYPE=void 0,i._enableCollision=Mi&&Mi(),i._connectedBody=Li&&Li(),i._constraint=null,i.TYPE=e,i}n(e,t);var i=e.prototype;return i.onLoad=function(){St.runInEditor&&(this._constraint=function(t){return Tt.INITED||(Tt.INITED=!0,Tt[V.POINT_TO_POINT]=function(){return Dt(St.wrapper.PointToPointConstraint,vt.PointToPointConstraint)?Mt:new St.wrapper.PointToPointConstraint},Tt[V.HINGE]=function(){return Dt(St.wrapper.HingeConstraint,vt.HingeConstraint)?Mt:new St.wrapper.HingeConstraint},Tt[V.FIXED]=function(){return Dt(St.wrapper.FixedConstraint,vt.FixedConstraint)?Mt:new St.wrapper.FixedConstraint},Tt[V.CONFIGURABLE]=function(){return Dt(St.wrapper.ConfigurableConstraint,vt.ConfigurableConstraint)?Mt:new St.wrapper.ConfigurableConstraint}),Tt[t]()}(this.TYPE),this._constraint.initialize(this))},i.onEnable=function(){this._constraint&&this._constraint.onEnable()},i.onDisable=function(){this._constraint&&this._constraint.onDisable()},i.onDestroy=function(){this._constraint&&this._constraint.onDestroy()},o(e,[{key:"attachedBody",get:function(){return this.getComponent(ae)}},{key:"connectedBody",get:function(){return this._connectedBody},set:function(t){this._connectedBody=t,this._constraint&&this._constraint.setConnectedBody(t)}},{key:"enableCollision",get:function(){return this._enableCollision},set:function(t){this._enableCollision=t,this._constraint&&this._constraint.setEnableCollision(t)}}]),e}(E(N))).Type=V,r((Ti=xi).prototype,"attachedBody",[ki],Object.getOwnPropertyDescriptor(Ti.prototype,"attachedBody"),Ti.prototype),r(Ti.prototype,"connectedBody",[Ei],Object.getOwnPropertyDescriptor(Ti.prototype,"connectedBody"),Ti.prototype),Mi=s(Ti.prototype,"_enableCollision",[u],(function(){return!0})),Li=s(Ti.prototype,"_connectedBody",[Pi],(function(){return null})),Oi=Ti))||Oi)||Oi));Pn||t("a",Pn={});var On,Tn,Mn,Ln,xn,An,In,Fn,Bn,jn,zn,Rn,Nn,Hn,Vn,Wn,Gn,qn,Un,Yn,Xn,Kn,Zn,Jn,Qn,$n,to,eo,io,no,oo,ro,so,ao,po,co,uo,ho,lo,yo,_o,go,fo,mo,wo,vo,So,bo,Co,Do,ko,Eo,Po,Oo,To,Mo,Lo,xo,Ao,Io,Fo,Bo,jo,zo,Ro,No,Ho,Vo,Wo,Go,qo,Uo,Yo,Xo,Ko,Zo,Jo,Qo,$o,tr,er,ir,nr,or,rr,sr,ar,pr,cr,ur,hr,lr,yr,_r,gr,fr,dr,mr,wr,vr,Sr,br,Cr,Dr,kr,Er,Pr,Or,Tr,Mr,Lr,xr,Ar,Ir,Fr,Br,jr,zr,Rr,Nr,Hr,Vr,Wr,Gr,qr,Ur,Yr,Xr,Kr,Zr,Jr,Qr,$r,ts,es,is,ns,os,rs,ss,as,ps,cs=(Ai=e("cc.HingeLimitData"),Ii=A("enabled"),Fi=A("upperLimit"),Bi=A("lowerLimit"),ji=i(x),zi=i(a),Ri=i(a),Ai((Hi=function(){function t(){this._enabled=Vi&&Vi(),this._upperLimit=Wi&&Wi(),this._lowerLimit=Gi&&Gi()}return o(t,[{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t}},{key:"upperLimit",get:function(){return this._upperLimit},set:function(t){this._upperLimit=t}},{key:"lowerLimit",get:function(){return this._lowerLimit},set:function(t){this._lowerLimit=t}}]),t}(),Vi=s(Hi.prototype,"_enabled",[u,Ii],(function(){return!1})),Wi=s(Hi.prototype,"_upperLimit",[u,Fi],(function(){return Number.MAX_VALUE})),Gi=s(Hi.prototype,"_lowerLimit",[u,Bi],(function(){return-Number.MAX_VALUE})),r(Hi.prototype,"enabled",[ji],Object.getOwnPropertyDescriptor(Hi.prototype,"enabled"),Hi.prototype),r(Hi.prototype,"upperLimit",[zi],Object.getOwnPropertyDescriptor(Hi.prototype,"upperLimit"),Hi.prototype),r(Hi.prototype,"lowerLimit",[Ri],Object.getOwnPropertyDescriptor(Hi.prototype,"lowerLimit"),Hi.prototype),Ni=Hi))||Ni),us=(qi=e("cc.HingeMotorData"),Ui=A("enabled"),Yi=A("motorVelocity"),Xi=A("motorForceLimit"),Ki=i(x),Zi=i(a),Ji=i(a),qi(($i=function(){function t(){this._enabled=tn&&tn(),this._motorVelocity=en&&en(),this._motorForceLimit=nn&&nn()}return o(t,[{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t}},{key:"motorVelocity",get:function(){return this._motorVelocity},set:function(t){this._motorVelocity=t}},{key:"motorForceLimit",get:function(){return this._motorForceLimit},set:function(t){this._motorForceLimit=t}}]),t}(),tn=s($i.prototype,"_enabled",[u,Ui],(function(){return!1})),en=s($i.prototype,"_motorVelocity",[u,Yi],(function(){return 0})),nn=s($i.prototype,"_motorForceLimit",[u,Xi],(function(){return 0})),r($i.prototype,"enabled",[Ki],Object.getOwnPropertyDescriptor($i.prototype,"enabled"),$i.prototype),r($i.prototype,"motorVelocity",[Zi],Object.getOwnPropertyDescriptor($i.prototype,"motorVelocity"),$i.prototype),r($i.prototype,"motorForceLimit",[Ji],Object.getOwnPropertyDescriptor($i.prototype,"motorForceLimit"),$i.prototype),Qi=$i))||Qi),hs=t("H",(on=e("cc.HingeConstraint"),rn=i(h),sn=i(h),an=i(h),pn=i(x),cn=i(a),un=i(a),hn=i(x),ln=i(a),yn=i(a),_n=A("axisA"),gn=A("pivotA"),fn=A("pivotB"),dn=A("limitData"),mn=A("motorData"),on((vn=function(t){function e(){var e;return(e=t.call(this,V.HINGE)||this)._axis=Sn&&Sn(),e._pivotA=bn&&bn(),e._pivotB=Cn&&Cn(),e._limitData=Dn&&Dn(),e._motorData=kn&&kn(),e}return n(e,t),o(e,[{key:"pivotA",get:function(){return this._pivotA},set:function(t){h.copy(this._pivotA,t),this.constraint.setPivotA(this._pivotA)}},{key:"pivotB",get:function(){return this._pivotB},set:function(t){h.copy(this._pivotB,t),this.constraint.setPivotB(this._pivotB)}},{key:"axis",get:function(){return this._axis},set:function(t){h.copy(this._axis,t),this.constraint.setAxis(this._axis)}},{key:"limitEnabled",get:function(){return this._limitData.enabled},set:function(t){this._limitData.enabled=t,this.constraint.setLimitEnabled(t)}},{key:"upperLimit",get:function(){return this._limitData.upperLimit},set:function(t){this._limitData.upperLimit=t,this.constraint.setUpperLimit(t)}},{key:"lowerLimit",get:function(){return this._limitData.lowerLimit},set:function(t){this._limitData.lowerLimit=t,this.constraint.setLowerLimit(t)}},{key:"motorEnabled",get:function(){return this._motorData.enabled},set:function(t){this._motorData.enabled=t,this.constraint.setMotorEnabled(t)}},{key:"motorVelocity",get:function(){return this._motorData.motorVelocity},set:function(t){this._motorData.motorVelocity=t,this.constraint.setMotorVelocity(t)}},{key:"motorForceLimit",get:function(){return this._motorData.motorForceLimit},set:function(t){this._motorData.motorForceLimit=t,this.constraint.setMotorForceLimit(t)}},{key:"constraint",get:function(){return this._constraint}}]),e}(Pn),r(vn.prototype,"pivotA",[rn],Object.getOwnPropertyDescriptor(vn.prototype,"pivotA"),vn.prototype),r(vn.prototype,"pivotB",[sn],Object.getOwnPropertyDescriptor(vn.prototype,"pivotB"),vn.prototype),r(vn.prototype,"axis",[an],Object.getOwnPropertyDescriptor(vn.prototype,"axis"),vn.prototype),r(vn.prototype,"limitEnabled",[pn],Object.getOwnPropertyDescriptor(vn.prototype,"limitEnabled"),vn.prototype),r(vn.prototype,"upperLimit",[cn],Object.getOwnPropertyDescriptor(vn.prototype,"upperLimit"),vn.prototype),r(vn.prototype,"lowerLimit",[un],Object.getOwnPropertyDescriptor(vn.prototype,"lowerLimit"),vn.prototype),r(vn.prototype,"motorEnabled",[hn],Object.getOwnPropertyDescriptor(vn.prototype,"motorEnabled"),vn.prototype),r(vn.prototype,"motorVelocity",[ln],Object.getOwnPropertyDescriptor(vn.prototype,"motorVelocity"),vn.prototype),r(vn.prototype,"motorForceLimit",[yn],Object.getOwnPropertyDescriptor(vn.prototype,"motorForceLimit"),vn.prototype),Sn=s(vn.prototype,"_axis",[u,_n],(function(){return new h})),bn=s(vn.prototype,"_pivotA",[u,gn],(function(){return new h})),Cn=s(vn.prototype,"_pivotB",[u,fn],(function(){return new h})),Dn=s(vn.prototype,"_limitData",[u,dn],(function(){return new cs})),kn=s(vn.prototype,"_motorData",[u,mn],(function(){return new us})),wn=vn))||wn)),ls=t("F",(On=e("cc.FixedConstraint"),Tn=i(a),Mn=i(a),Ln=A("breakForce"),xn=A("breakTorque"),On((In=function(t){function e(){var e;return(e=t.call(this,V.FIXED)||this)._breakForce=Fn&&Fn(),e._breakTorque=Bn&&Bn(),e}return n(e,t),o(e,[{key:"breakForce",get:function(){return this._breakForce},set:function(t){this._breakForce=t,this.constraint.setBreakForce(t)}},{key:"breakTorque",get:function(){return this._breakTorque},set:function(t){this._breakTorque=t,this.constraint.setBreakTorque(t)}},{key:"constraint",get:function(){return this._constraint}}]),e}(Pn),r(In.prototype,"breakForce",[Tn],Object.getOwnPropertyDescriptor(In.prototype,"breakForce"),In.prototype),r(In.prototype,"breakTorque",[Mn],Object.getOwnPropertyDescriptor(In.prototype,"breakTorque"),In.prototype),Fn=s(In.prototype,"_breakForce",[u,Ln],(function(){return 1e8})),Bn=s(In.prototype,"_breakTorque",[u,xn],(function(){return 1e8})),An=In))||An)),ys=(jn=e("cc.LinearLimitSettings"),zn=i(K),Rn=i(K),Nn=i(K),Hn=i(h),Vn=i(h),Wn=i(a),Gn=i(x),qn=i(a),Un=i(a),jn((Xn=function(){function t(t){this._xMotion=Kn&&Kn(),this._yMotion=Zn&&Zn(),this._zMotion=Jn&&Jn(),this._upper=Qn&&Qn(),this._lower=$n&&$n(),this._enableSoftConstraint=to&&to(),this._bounciness=eo&&eo(),this._stiffness=io&&io(),this._damping=no&&no(),this._impl=void 0,this._impl=t}return o(t,[{key:"xMotion",get:function(){return this._xMotion},set:function(t){this._xMotion=t,this._impl.setConstraintMode(0,t)}},{key:"yMotion",get:function(){return this._yMotion},set:function(t){this._yMotion=t,this._impl.setConstraintMode(1,t)}},{key:"zMotion",get:function(){return this._zMotion},set:function(t){this._zMotion=t,this._impl.setConstraintMode(2,t)}},{key:"upper",get:function(){return this._upper},set:function(t){h.copy(this._upper,t);var e=this.lower;this._impl.setLinearLimit(0,e.x,t.x),this._impl.setLinearLimit(1,e.y,t.y),this._impl.setLinearLimit(2,e.z,t.z)}},{key:"lower",get:function(){return this._lower},set:function(t){h.copy(this._lower,t);var e=this.upper;this._impl.setLinearLimit(0,t.x,e.x),this._impl.setLinearLimit(1,t.y,e.y),this._impl.setLinearLimit(2,t.z,e.z)}},{key:"restitution",get:function(){return this._bounciness},set:function(t){this._bounciness=t,this._impl.setLinearRestitution(t)}},{key:"enableSoftConstraint",get:function(){return this._enableSoftConstraint},set:function(t){this._enableSoftConstraint=t,this._impl.setLinearSoftConstraint(t)}},{key:"stiffness",get:function(){return this._stiffness},set:function(t){this._stiffness=t,this._impl.setLinearStiffness(t)}},{key:"damping",get:function(){return this._damping},set:function(t){this._damping=t,this._impl.setLinearDamping(t)}},{key:"impl",set:function(t){this._impl=t}}]),t}(),r(Xn.prototype,"xMotion",[zn],Object.getOwnPropertyDescriptor(Xn.prototype,"xMotion"),Xn.prototype),r(Xn.prototype,"yMotion",[Rn],Object.getOwnPropertyDescriptor(Xn.prototype,"yMotion"),Xn.prototype),r(Xn.prototype,"zMotion",[Nn],Object.getOwnPropertyDescriptor(Xn.prototype,"zMotion"),Xn.prototype),r(Xn.prototype,"upper",[Hn],Object.getOwnPropertyDescriptor(Xn.prototype,"upper"),Xn.prototype),r(Xn.prototype,"lower",[Vn],Object.getOwnPropertyDescriptor(Xn.prototype,"lower"),Xn.prototype),r(Xn.prototype,"restitution",[Wn],Object.getOwnPropertyDescriptor(Xn.prototype,"restitution"),Xn.prototype),r(Xn.prototype,"enableSoftConstraint",[Gn],Object.getOwnPropertyDescriptor(Xn.prototype,"enableSoftConstraint"),Xn.prototype),r(Xn.prototype,"stiffness",[qn],Object.getOwnPropertyDescriptor(Xn.prototype,"stiffness"),Xn.prototype),r(Xn.prototype,"damping",[Un],Object.getOwnPropertyDescriptor(Xn.prototype,"damping"),Xn.prototype),Kn=s(Xn.prototype,"_xMotion",[u],(function(){return K.FREE})),Zn=s(Xn.prototype,"_yMotion",[u],(function(){return K.FREE})),Jn=s(Xn.prototype,"_zMotion",[u],(function(){return K.FREE})),Qn=s(Xn.prototype,"_upper",[u],(function(){return new h})),$n=s(Xn.prototype,"_lower",[u],(function(){return new h})),to=s(Xn.prototype,"_enableSoftConstraint",[u],(function(){return!1})),eo=s(Xn.prototype,"_bounciness",[u],(function(){return 0})),io=s(Xn.prototype,"_stiffness",[u],(function(){return 0})),no=s(Xn.prototype,"_damping",[u],(function(){return 0})),Yn=Xn))||Yn),_s=(oo=e("cc.AngularLimitSettings"),ro=i(K),so=i(K),ao=i(K),po=i(a),co=i(a),uo=i(a),ho=i(a),lo=i(a),yo=i(x),_o=i(a),go=i(a),fo=i(x),mo=i(a),wo=i(a),oo((So=function(){function t(t){this._swing1Motion=bo&&bo(),this._swing2Motion=Co&&Co(),this._twistMotion=Do&&Do(),this._twistExtent=ko&&ko(),this._swingExtent1=Eo&&Eo(),this._swingExtent2=Po&&Po(),this._enableSoftConstraintSwing=Oo&&Oo(),this._swingBounciness=To&&To(),this._swingStiffness=Mo&&Mo(),this._swingDamping=Lo&&Lo(),this._enableSoftConstraintTwist=xo&&xo(),this._twistBounciness=Ao&&Ao(),this._twistStiffness=Io&&Io(),this._twistDamping=Fo&&Fo(),this._impl=void 0,this._impl=t}return o(t,[{key:"twistMotion",get:function(){return this._twistMotion},set:function(t){this._twistMotion=t,this._impl.setConstraintMode(3,t)}},{key:"swingMotion1",get:function(){return this._swing1Motion},set:function(t){this._swing1Motion=t,this._impl.setConstraintMode(4,t)}},{key:"swingMotion2",get:function(){return this._swing2Motion},set:function(t){this._swing2Motion=t,this._impl.setConstraintMode(5,t)}},{key:"twistExtent",get:function(){return this._twistExtent},set:function(t){this._twistExtent=t,this._impl.setAngularExtent(t,this.swingExtent1,this.swingExtent2)}},{key:"swingExtent1",get:function(){return this._swingExtent1},set:function(t){this._swingExtent1=t,this._impl.setAngularExtent(this.twistExtent,t,this.swingExtent2)}},{key:"swingExtent2",get:function(){return this._swingExtent2},set:function(t){this._swingExtent2=t,this._impl.setAngularExtent(this.twistExtent,this.swingExtent1,t)}},{key:"twistRestitution",get:function(){return this._twistBounciness},set:function(t){this._twistBounciness=t,this._impl.setTwistRestitution(t)}},{key:"swingRestitution",get:function(){return this._swingBounciness},set:function(t){this._swingBounciness=t,this._impl.setSwingRestitution(t)}},{key:"enableSoftConstraintTwist",get:function(){return this._enableSoftConstraintTwist},set:function(t){this._enableSoftConstraintTwist=t,this._impl.setTwistSoftConstraint(t)}},{key:"twistStiffness",get:function(){return this._twistStiffness},set:function(t){this._twistStiffness=t,this._impl.setTwistStiffness(t)}},{key:"twistDamping",get:function(){return this._twistDamping},set:function(t){this._twistDamping=t,this._impl.setTwistDamping(t)}},{key:"enableSoftConstraintSwing",get:function(){return this._enableSoftConstraintSwing},set:function(t){this._enableSoftConstraintSwing=t,this._impl.setSwingSoftConstraint(t)}},{key:"swingStiffness",get:function(){return this._swingStiffness},set:function(t){this._swingStiffness=t,this._impl.setSwingStiffness(t)}},{key:"swingDamping",get:function(){return this._swingDamping},set:function(t){this._swingDamping=t,this._impl.setSwingDamping(t)}},{key:"impl",set:function(t){this._impl=t}}]),t}(),r(So.prototype,"twistMotion",[ro],Object.getOwnPropertyDescriptor(So.prototype,"twistMotion"),So.prototype),r(So.prototype,"swingMotion1",[so],Object.getOwnPropertyDescriptor(So.prototype,"swingMotion1"),So.prototype),r(So.prototype,"swingMotion2",[ao],Object.getOwnPropertyDescriptor(So.prototype,"swingMotion2"),So.prototype),r(So.prototype,"twistExtent",[po],Object.getOwnPropertyDescriptor(So.prototype,"twistExtent"),So.prototype),r(So.prototype,"swingExtent1",[co],Object.getOwnPropertyDescriptor(So.prototype,"swingExtent1"),So.prototype),r(So.prototype,"swingExtent2",[uo],Object.getOwnPropertyDescriptor(So.prototype,"swingExtent2"),So.prototype),r(So.prototype,"twistRestitution",[ho],Object.getOwnPropertyDescriptor(So.prototype,"twistRestitution"),So.prototype),r(So.prototype,"swingRestitution",[lo],Object.getOwnPropertyDescriptor(So.prototype,"swingRestitution"),So.prototype),r(So.prototype,"enableSoftConstraintTwist",[yo],Object.getOwnPropertyDescriptor(So.prototype,"enableSoftConstraintTwist"),So.prototype),r(So.prototype,"twistStiffness",[_o],Object.getOwnPropertyDescriptor(So.prototype,"twistStiffness"),So.prototype),r(So.prototype,"twistDamping",[go],Object.getOwnPropertyDescriptor(So.prototype,"twistDamping"),So.prototype),r(So.prototype,"enableSoftConstraintSwing",[fo],Object.getOwnPropertyDescriptor(So.prototype,"enableSoftConstraintSwing"),So.prototype),r(So.prototype,"swingStiffness",[mo],Object.getOwnPropertyDescriptor(So.prototype,"swingStiffness"),So.prototype),r(So.prototype,"swingDamping",[wo],Object.getOwnPropertyDescriptor(So.prototype,"swingDamping"),So.prototype),bo=s(So.prototype,"_swing1Motion",[u],(function(){return K.FREE})),Co=s(So.prototype,"_swing2Motion",[u],(function(){return K.FREE})),Do=s(So.prototype,"_twistMotion",[u],(function(){return K.FREE})),ko=s(So.prototype,"_twistExtent",[u],(function(){return 0})),Eo=s(So.prototype,"_swingExtent1",[u],(function(){return 0})),Po=s(So.prototype,"_swingExtent2",[u],(function(){return 0})),Oo=s(So.prototype,"_enableSoftConstraintSwing",[u],(function(){return!1})),To=s(So.prototype,"_swingBounciness",[u],(function(){return 0})),Mo=s(So.prototype,"_swingStiffness",[u],(function(){return 0})),Lo=s(So.prototype,"_swingDamping",[u],(function(){return 0})),xo=s(So.prototype,"_enableSoftConstraintTwist",[u],(function(){return!1})),Ao=s(So.prototype,"_twistBounciness",[u],(function(){return 0})),Io=s(So.prototype,"_twistStiffness",[u],(function(){return 0})),Fo=s(So.prototype,"_twistDamping",[u],(function(){return 0})),vo=So))||vo),gs=(Bo=e("cc.LinearDriverSettings"),jo=i(Z),zo=i(Z),Ro=i(Z),No=i(h),Ho=i(h),Vo=i(a),Bo((Go=function(){function t(t){this._target=qo&&qo(),this._velocity=Uo&&Uo(),this._xDrive=Yo&&Yo(),this._yDrive=Xo&&Xo(),this._zDrive=Ko&&Ko(),this._strength=Zo&&Zo(),this._impl=void 0,this._impl=t}return o(t,[{key:"xDrive",get:function(){return this._xDrive},set:function(t){this._xDrive=t,this._impl.setDriverMode(0,t)}},{key:"yDrive",get:function(){return this._yDrive},set:function(t){this._yDrive=t,this._impl.setDriverMode(1,t)}},{key:"zDrive",get:function(){return this._zDrive},set:function(t){this._zDrive=t,this._impl.setDriverMode(2,t)}},{key:"targetPosition",get:function(){return this._target},set:function(t){h.copy(this._target,t),this._impl.setLinearMotorTarget(t)}},{key:"targetVelocity",get:function(){return this._velocity},set:function(t){h.copy(this._velocity,t),this._impl.setLinearMotorVelocity(t)}},{key:"strength",get:function(){return this._strength},set:function(t){this._strength=t,this._impl.setLinearMotorForceLimit(t)}},{key:"impl",set:function(t){this._impl=t}}]),t}(),r(Go.prototype,"xDrive",[jo],Object.getOwnPropertyDescriptor(Go.prototype,"xDrive"),Go.prototype),r(Go.prototype,"yDrive",[zo],Object.getOwnPropertyDescriptor(Go.prototype,"yDrive"),Go.prototype),r(Go.prototype,"zDrive",[Ro],Object.getOwnPropertyDescriptor(Go.prototype,"zDrive"),Go.prototype),r(Go.prototype,"targetPosition",[No],Object.getOwnPropertyDescriptor(Go.prototype,"targetPosition"),Go.prototype),r(Go.prototype,"targetVelocity",[Ho],Object.getOwnPropertyDescriptor(Go.prototype,"targetVelocity"),Go.prototype),r(Go.prototype,"strength",[Vo],Object.getOwnPropertyDescriptor(Go.prototype,"strength"),Go.prototype),qo=s(Go.prototype,"_target",[u],(function(){return new h})),Uo=s(Go.prototype,"_velocity",[u],(function(){return new h})),Yo=s(Go.prototype,"_xDrive",[u],(function(){return Z.DISABLED})),Xo=s(Go.prototype,"_yDrive",[u],(function(){return Z.DISABLED})),Ko=s(Go.prototype,"_zDrive",[u],(function(){return Z.DISABLED})),Zo=s(Go.prototype,"_strength",[u],(function(){return 0})),Wo=Go))||Wo),fs=(Jo=e("cc.AngularDriverSettings"),Qo=i(Z),$o=i(Z),tr=i(Z),er=i(h),ir=i(h),nr=i(a),Jo((rr=function(){function t(t){this._swingDrive1=sr&&sr(),this._swingDrive2=ar&&ar(),this._twistDrive=pr&&pr(),this._targetOrientation=cr&&cr(),this._targetVelocity=ur&&ur(),this._strength=hr&&hr(),this._impl=void 0,this._impl=t}return o(t,[{key:"twistDrive",get:function(){return this._twistDrive},set:function(t){this._twistDrive=t,this._impl.setDriverMode(3,t)}},{key:"swingDrive1",get:function(){return this._swingDrive1},set:function(t){this._swingDrive1=t,this._impl.setDriverMode(4,t)}},{key:"swingDrive2",get:function(){return this._swingDrive2},set:function(t){this._swingDrive2=t,this._impl.setDriverMode(5,t)}},{key:"targetOrientation",get:function(){return this._targetOrientation},set:function(t){h.copy(this._targetOrientation,t),this._impl.setAngularMotorTarget(t)}},{key:"targetVelocity",get:function(){return this._targetVelocity},set:function(t){h.copy(this._targetVelocity,t),this._impl.setAngularMotorVelocity(t)}},{key:"strength",get:function(){return this._strength},set:function(t){this._strength=t,this._impl.setAngularMotorForceLimit(t)}},{key:"impl",set:function(t){this._impl=t}}]),t}(),r(rr.prototype,"twistDrive",[Qo],Object.getOwnPropertyDescriptor(rr.prototype,"twistDrive"),rr.prototype),r(rr.prototype,"swingDrive1",[$o],Object.getOwnPropertyDescriptor(rr.prototype,"swingDrive1"),rr.prototype),r(rr.prototype,"swingDrive2",[tr],Object.getOwnPropertyDescriptor(rr.prototype,"swingDrive2"),rr.prototype),r(rr.prototype,"targetOrientation",[er],Object.getOwnPropertyDescriptor(rr.prototype,"targetOrientation"),rr.prototype),r(rr.prototype,"targetVelocity",[ir],Object.getOwnPropertyDescriptor(rr.prototype,"targetVelocity"),rr.prototype),r(rr.prototype,"strength",[nr],Object.getOwnPropertyDescriptor(rr.prototype,"strength"),rr.prototype),sr=s(rr.prototype,"_swingDrive1",[u],(function(){return Z.DISABLED})),ar=s(rr.prototype,"_swingDrive2",[u],(function(){return Z.DISABLED})),pr=s(rr.prototype,"_twistDrive",[u],(function(){return Z.DISABLED})),cr=s(rr.prototype,"_targetOrientation",[u],(function(){return new h})),ur=s(rr.prototype,"_targetVelocity",[u],(function(){return new h})),hr=s(rr.prototype,"_strength",[u],(function(){return 0})),or=rr))||or),ds=t("l",(lr=e("cc.ConfigurableConstraint"),yr=i(h),_r=i(h),gr=i(h),fr=i(h),dr=i(x),mr=i(a),wr=i(a),vr=i(ys),Sr=i(_s),br=i(gs),Cr=i(fs),Dr=A("linearLimitSettings"),kr=A("angularLimitSettings"),Er=A("linearDriverSettings"),Pr=A("angularDriverSettings"),lr((Tr=function(t){function e(){var e;return(e=t.call(this,V.CONFIGURABLE)||this)._breakForce=Mr&&Mr(),e._breakTorque=Lr&&Lr(),e._linearLimitSettings=xr&&xr(),e._angularLimitSettings=Ar&&Ar(),e._linearDriverSettings=Ir&&Ir(),e._angularDriverSettings=Fr&&Fr(),e._pivotA=Br&&Br(),e._pivotB=jr&&jr(),e._autoPivotB=zr&&zr(),e._axis=Rr&&Rr(),e._secondaryAxis=Nr&&Nr(),e._linearLimitSettings=new ys(e.constraint),e._angularLimitSettings=new _s(e.constraint),e._linearDriverSettings=new gs(e.constraint),e._angularDriverSettings=new fs(e.constraint),e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.linearLimitSettings.impl=this.constraint,this.angularLimitSettings.impl=this.constraint,this.linearDriverSettings.impl=this.constraint,this.angularDriverSettings.impl=this.constraint},o(e,[{key:"axis",get:function(){return this._axis},set:function(t){h.copy(this._axis,t),this.constraint.setAxis(this._axis)}},{key:"secondaryAxis",get:function(){return this._secondaryAxis},set:function(t){h.copy(this._secondaryAxis,t),this.constraint.setSecondaryAxis(this._secondaryAxis)}},{key:"pivotA",get:function(){return this._pivotA},set:function(t){h.copy(this._pivotA,t),this.constraint.setPivotA(this._pivotA)}},{key:"pivotB",get:function(){return this._pivotB},set:function(t){h.copy(this._pivotB,t),this.constraint.setPivotB(this._pivotB)}},{key:"autoPivotB",get:function(){return this._autoPivotB},set:function(t){this._autoPivotB=t,this.constraint.setAutoPivotB(this._autoPivotB)}},{key:"breakForce",get:function(){return this._breakForce},set:function(t){this._breakForce=t,this.constraint.setBreakForce(t)}},{key:"breakTorque",get:function(){return this._breakTorque},set:function(t){this._breakTorque=t,this.constraint.setBreakTorque(t)}},{key:"linearLimitSettings",get:function(){return this._linearLimitSettings},set:function(t){this._linearLimitSettings=t;var e=this.constraint;e.setConstraintMode(0,t.xMotion),e.setConstraintMode(1,t.yMotion),e.setConstraintMode(2,t.zMotion);var i=t.upper,n=t.lower;e.setLinearLimit(0,n.x,i.x),e.setLinearLimit(1,n.y,i.y),e.setLinearLimit(2,n.z,i.z),e.setLinearSoftConstraint(t.enableSoftConstraint),e.setLinearDamping(t.damping),e.setLinearStiffness(t.stiffness),e.setLinearRestitution(t.restitution)}},{key:"angularLimitSettings",get:function(){return this._angularLimitSettings},set:function(t){this._angularLimitSettings=t;var e=this.constraint;e.setConstraintMode(3,t.twistMotion),e.setConstraintMode(4,t.swingMotion1),e.setConstraintMode(5,t.swingMotion2),e.setAngularExtent(t.twistExtent,t.swingExtent1,t.swingExtent2),e.setTwistRestitution(t.twistRestitution),e.setSwingRestitution(t.swingRestitution),e.setTwistSoftConstraint(t.enableSoftConstraintTwist),e.setSwingSoftConstraint(t.enableSoftConstraintSwing),e.setTwistDamping(t.twistDamping),e.setSwingDamping(t.swingDamping),e.setTwistStiffness(t.twistStiffness),e.setSwingStiffness(t.swingStiffness)}},{key:"linearDriverSettings",get:function(){return this._linearDriverSettings},set:function(t){this._linearDriverSettings=t;var e=this.constraint;e.setDriverMode(0,t.xDrive),e.setDriverMode(1,t.yDrive),e.setDriverMode(2,t.zDrive),e.setLinearMotorTarget(t.targetPosition),e.setLinearMotorVelocity(t.targetVelocity),e.setLinearMotorForceLimit(t.strength)}},{key:"angularDriverSettings",get:function(){return this._angularDriverSettings},set:function(t){this._angularDriverSettings=t;var e=this.constraint;e.setDriverMode(3,t.twistDrive),e.setDriverMode(4,t.swingDrive1),e.setDriverMode(5,t.swingDrive2),e.setAngularMotorTarget(t.targetOrientation),e.setAngularMotorVelocity(t.targetVelocity),e.setAngularMotorForceLimit(t.strength)}},{key:"constraint",get:function(){return this._constraint}}]),e}(Pn),r(Tr.prototype,"axis",[yr],Object.getOwnPropertyDescriptor(Tr.prototype,"axis"),Tr.prototype),r(Tr.prototype,"secondaryAxis",[_r],Object.getOwnPropertyDescriptor(Tr.prototype,"secondaryAxis"),Tr.prototype),r(Tr.prototype,"pivotA",[gr],Object.getOwnPropertyDescriptor(Tr.prototype,"pivotA"),Tr.prototype),r(Tr.prototype,"pivotB",[fr],Object.getOwnPropertyDescriptor(Tr.prototype,"pivotB"),Tr.prototype),r(Tr.prototype,"autoPivotB",[dr],Object.getOwnPropertyDescriptor(Tr.prototype,"autoPivotB"),Tr.prototype),r(Tr.prototype,"breakForce",[mr],Object.getOwnPropertyDescriptor(Tr.prototype,"breakForce"),Tr.prototype),r(Tr.prototype,"breakTorque",[wr],Object.getOwnPropertyDescriptor(Tr.prototype,"breakTorque"),Tr.prototype),r(Tr.prototype,"linearLimitSettings",[vr],Object.getOwnPropertyDescriptor(Tr.prototype,"linearLimitSettings"),Tr.prototype),r(Tr.prototype,"angularLimitSettings",[Sr],Object.getOwnPropertyDescriptor(Tr.prototype,"angularLimitSettings"),Tr.prototype),r(Tr.prototype,"linearDriverSettings",[br],Object.getOwnPropertyDescriptor(Tr.prototype,"linearDriverSettings"),Tr.prototype),r(Tr.prototype,"angularDriverSettings",[Cr],Object.getOwnPropertyDescriptor(Tr.prototype,"angularDriverSettings"),Tr.prototype),Mr=s(Tr.prototype,"_breakForce",[u],(function(){return 1e8})),Lr=s(Tr.prototype,"_breakTorque",[u],(function(){return 1e8})),xr=s(Tr.prototype,"_linearLimitSettings",[u,Dr],null),Ar=s(Tr.prototype,"_angularLimitSettings",[u,kr],null),Ir=s(Tr.prototype,"_linearDriverSettings",[u,Er],null),Fr=s(Tr.prototype,"_angularDriverSettings",[u,Pr],null),Br=s(Tr.prototype,"_pivotA",[u],(function(){return new h})),jr=s(Tr.prototype,"_pivotB",[u],(function(){return new h})),zr=s(Tr.prototype,"_autoPivotB",[u],(function(){return!1})),Rr=s(Tr.prototype,"_axis",[u],(function(){return new h(0,1,0)})),Nr=s(Tr.prototype,"_secondaryAxis",[u],(function(){return new h(1,0,0)})),Or=Tr))||Or)),ms=t("m",(Hr=e("cc.PointToPointConstraint"),Vr=i(h),Wr=i(h),Hr((qr=function(t){function e(){var e;return(e=t.call(this,V.POINT_TO_POINT)||this)._pivotA=Ur&&Ur(),e._pivotB=Yr&&Yr(),e}return n(e,t),o(e,[{key:"pivotA",get:function(){return this._pivotA},set:function(t){h.copy(this._pivotA,t),this.constraint.setPivotA(this._pivotA)}},{key:"pivotB",get:function(){return this._pivotB},set:function(t){h.copy(this._pivotB,t),this.constraint.setPivotB(this._pivotB)}},{key:"constraint",get:function(){return this._constraint}}]),e}(Pn),r(qr.prototype,"pivotA",[Vr],Object.getOwnPropertyDescriptor(qr.prototype,"pivotA"),qr.prototype),r(qr.prototype,"pivotB",[Wr],Object.getOwnPropertyDescriptor(qr.prototype,"pivotB"),qr.prototype),Ur=s(qr.prototype,"_pivotA",[u],(function(){return new h})),Yr=s(qr.prototype,"_pivotB",[u],(function(){return new h})),Gr=qr))||Gr));new h(0,0,0),new h(0,0,0);var ws,vs,Ss,bs,Cs,Ds,ks,Es,Ps,Os,Ts=t("e",(Xr=e("cc.CharacterController"),Kr=i(Kt.PhysicsGroup),Zr=i(a),Jr=i(a),Qr=i(a),$r=i(a),ts=i(h),Xr(es=C((is=function(t){function e(e){var i;return(i=t.call(this)||this).type=void 0,i._cct=null,i._group=ns&&ns(),i._minMoveDistance=os&&os(),i._stepOffset=rs&&rs(),i._slopeLimit=ss&&ss(),i._skinWidth=as&&as(),i._center=ps&&ps(),i._initialized=!1,i._prevPos=new h,i._currentPos=new h,i._velocity=new h,i._centerWorldPosition=new h,i._needCollisionEvent=!1,i._needTriggerEvent=!1,i.type=e,i}n(e,t);var i=e.prototype;return i.onLoad=function(){St.runInEditor&&(this._cct=function(t){return Lt.INITED||(Lt.INITED=!0,Lt[W.BOX]=function(){return Dt(St.wrapper.BoxCharacterController,vt.BoxCharacterController)?xt:new St.wrapper.BoxCharacterController},Lt[W.CAPSULE]=function(){return Dt(St.wrapper.CapsuleCharacterController,vt.CapsuleCharacterController)?xt:new St.wrapper.CapsuleCharacterController}),Lt[t]()}(this.type),this._initialized=this._cct.initialize(this),this._cct.onLoad())},i.onEnable=function(){this._cct&&this._cct.onEnable()},i.onDisable=function(){this._cct&&this._cct.onDisable()},i.onDestroy=function(){this._cct&&(this._needCollisionEvent=!1,this._needTriggerEvent=!1,this._cct.updateEventListener(),this._cct.onDestroy(),this._cct=null)},i.move=function(t){if(this._isInitialized){this._prevPos.set(this.centerWorldPosition);var e=Kt.instance.fixedTimeStep;this._cct.move(t,this._minMoveDistance,e),this._currentPos.set(this.centerWorldPosition),this._velocity=this._currentPos.subtract(this._prevPos).multiplyScalar(1/e),this._cct.syncPhysicsToScene()}},i.on=function(e,i,n,o){var r=t.prototype.on.call(this,e,i,n,o);return this._updateNeedEvent(e),r},i.off=function(e,i,n){t.prototype.off.call(this,e,i,n),this._updateNeedEvent()},i.once=function(e,i,n){var o=t.prototype.once.call(this,e,i,n);return this._updateNeedEvent(e),o},i.getGroup=function(){return this._isInitialized?this._cct.getGroup():0},i.setGroup=function(t){this._isInitialized&&this._cct.setGroup(t)},i.addGroup=function(t){this._isInitialized&&this._cct.addGroup(t)},i.removeGroup=function(t){this._isInitialized&&this._cct.removeGroup(t)},i.getMask=function(){return this._isInitialized?this._cct.getMask():0},i.setMask=function(t){this._isInitialized&&this._cct.setMask(t)},i.addMask=function(t){this._isInitialized&&this._cct.addMask(t)},i.removeMask=function(t){this._isInitialized&&this._cct.removeMask(t)},i._updateNeedEvent=function(t){this.isValid&&(void 0!==t?("onControllerColliderHit"===t&&(this._needCollisionEvent=!0),"onControllerTriggerEnter"!==t&&"onControllerTriggerStay"!==t&&"onControllerTriggerExit"!==t||(this._needTriggerEvent=!0)):(this.hasEventListener("onControllerColliderHit")||(this._needCollisionEvent=!1),this.hasEventListener("onControllerTriggerEnter")||this.hasEventListener("onControllerTriggerStay")||this.hasEventListener("onControllerTriggerExit")||(this._needTriggerEvent=!1)),this._cct&&this._cct.updateEventListener())},o(e,[{key:"group",get:function(){return this._group},set:function(t){this._group=t,this._cct&&this._cct.getGroup()!==t&&this._cct.setGroup(t)}},{key:"minMoveDistance",get:function(){return this._minMoveDistance},set:function(t){this._minMoveDistance!==t&&(this._minMoveDistance=Math.abs(t))}},{key:"stepOffset",get:function(){return this._stepOffset},set:function(t){this._stepOffset!==t&&(this._stepOffset=Math.abs(t),this._cct&&this._cct.setStepOffset(t))}},{key:"slopeLimit",get:function(){return this._slopeLimit},set:function(t){this._slopeLimit!==t&&(this._slopeLimit=Math.abs(t),this._cct&&this._cct.setSlopeLimit(t))}},{key:"skinWidth",get:function(){return this._skinWidth},set:function(t){this._skinWidth!==t&&(this._skinWidth=Math.abs(t),this._cct&&this._cct.setContactOffset(Math.max(1e-4,t)))}},{key:"center",get:function(){return this._center},set:function(t){h.equals(this._center,t)||h.copy(this._center,t)}},{key:"_isInitialized",get:function(){return!(null===this._cct||!this._initialized)}},{key:"centerWorldPosition",get:function(){return this._isInitialized&&this._cct.getPosition(this._centerWorldPosition),this._centerWorldPosition},set:function(t){this._isInitialized&&this._cct.setPosition(t)}},{key:"velocity",get:function(){return this._velocity}},{key:"isGrounded",get:function(){return this._cct.onGround()}},{key:"needCollisionEvent",get:function(){return this._needCollisionEvent}},{key:"needTriggerEvent",get:function(){return this._needTriggerEvent}}]),e}(E(N)),r(is.prototype,"group",[Kr],Object.getOwnPropertyDescriptor(is.prototype,"group"),is.prototype),r(is.prototype,"minMoveDistance",[Zr],Object.getOwnPropertyDescriptor(is.prototype,"minMoveDistance"),is.prototype),r(is.prototype,"stepOffset",[Jr],Object.getOwnPropertyDescriptor(is.prototype,"stepOffset"),is.prototype),r(is.prototype,"slopeLimit",[Qr],Object.getOwnPropertyDescriptor(is.prototype,"slopeLimit"),is.prototype),r(is.prototype,"skinWidth",[$r],Object.getOwnPropertyDescriptor(is.prototype,"skinWidth"),is.prototype),r(is.prototype,"center",[ts],Object.getOwnPropertyDescriptor(is.prototype,"center"),is.prototype),ns=s(is.prototype,"_group",[u],(function(){return Kt.PhysicsGroup.DEFAULT})),os=s(is.prototype,"_minMoveDistance",[u],(function(){return.001})),rs=s(is.prototype,"_stepOffset",[u],(function(){return.5})),ss=s(is.prototype,"_slopeLimit",[u],(function(){return 45})),as=s(is.prototype,"_skinWidth",[u],(function(){return.01})),ps=s(is.prototype,"_center",[u],(function(){return new h})),es=is))||es)||es));new h(0,0,0);var Ms,Ls,xs,As,Is,Fs,Bs,js,zs=t("o",(ws=e("cc.BoxCharacterController"),vs=D(-1),Ss=i(a),bs=i(a),Cs=i(a),ws(Ds=vs((ks=function(t){function e(){var e;return(e=t.call(this,W.BOX)||this)._halfHeight=Es&&Es(),e._halfSideExtent=Ps&&Ps(),e._halfForwardExtent=Os&&Os(),e}return n(e,t),o(e,[{key:"halfHeight",get:function(){return this._halfHeight},set:function(t){this._halfHeight!==t&&(this._halfHeight=Math.abs(t),this._cct&&this._cct.setHalfHeight(t))}},{key:"halfSideExtent",get:function(){return this._halfSideExtent},set:function(t){this._halfSideExtent!==t&&(this._halfSideExtent=Math.abs(t),this._cct&&this._cct.setHalfSideExtent(t))}},{key:"halfForwardExtent",get:function(){return this._halfForwardExtent},set:function(t){this._halfForwardExtent!==t&&(this._halfForwardExtent=Math.abs(t),this._cct&&this._cct.setHalfForwardExtent(t))}}]),e}(Ts),r(ks.prototype,"halfHeight",[Ss],Object.getOwnPropertyDescriptor(ks.prototype,"halfHeight"),ks.prototype),r(ks.prototype,"halfSideExtent",[bs],Object.getOwnPropertyDescriptor(ks.prototype,"halfSideExtent"),ks.prototype),r(ks.prototype,"halfForwardExtent",[Cs],Object.getOwnPropertyDescriptor(ks.prototype,"halfForwardExtent"),ks.prototype),Es=s(ks.prototype,"_halfHeight",[u],(function(){return.5})),Ps=s(ks.prototype,"_halfSideExtent",[u],(function(){return.5})),Os=s(ks.prototype,"_halfForwardExtent",[u],(function(){return.5})),Ds=ks))||Ds)||Ds));new h(0,0,0);var Rs=t("n",(Ms=e("cc.CapsuleCharacterController"),Ls=D(-1),xs=i(a),As=i(a),Ms(Is=Ls((Fs=function(t){function e(){var e;return(e=t.call(this,W.CAPSULE)||this)._radius=Bs&&Bs(),e._height=js&&js(),e}return n(e,t),o(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!==t&&(this._radius=Math.abs(t),this._cct&&this._cct.setRadius(t))}},{key:"height",get:function(){return this._height},set:function(t){this._height!==t&&(this._height=Math.abs(t),this._cct&&this._cct.setHeight(t))}}]),e}(Ts),r(Fs.prototype,"radius",[xs],Object.getOwnPropertyDescriptor(Fs.prototype,"radius"),Fs.prototype),r(Fs.prototype,"height",[As],Object.getOwnPropertyDescriptor(Fs.prototype,"height"),Fs.prototype),Bs=s(Fs.prototype,"_radius",[u],(function(){return.5})),js=s(Fs.prototype,"_height",[u],(function(){return 1})),Is=Fs))||Is)||Is)),Ns=t("q",(function(){this.worldPosition=new h,this.worldNormal=new h,this.motionDirection=new h,this.motionLength=0}));f.PhysicsSystem=Kt,f.PhysicsMaterial=ft,f.PhysicsRayResult=dt,f.ConstantForce=vi,t("p",Object.freeze({__proto__:null,PhysicsSystem:Kt,PhysicsRayResult:dt,PhysicsLineStripCastResult:mt,get Collider(){return ye},BoxCollider:_i,SphereCollider:gi,CapsuleCollider:fi,MeshCollider:wi,CylinderCollider:di,ConeCollider:mi,TerrainCollider:Si,get SimplexCollider(){return bi},PlaneCollider:En,get Constraint(){return Pn},HingeConstraint:hs,FixedConstraint:ls,PointToPointConstraint:ms,ConfigurableConstraint:ds,get RigidBody(){return ae},PhysicsMaterial:ft,ConstantForce:vi,CharacterController:Ts,BoxCharacterController:zs,CapsuleCharacterController:Rs,selector:St,utils:tt,CharacterControllerContact:Ns,get ERigidBodyType(){return U},get EAxisDirection(){return Y},get ED6Axis(){return J},get ESimplexType(){return X},get EColliderType(){return H},get EConstraintType(){return V},get EConstraintMode(){return K},get EDriverMode(){return Z},get ECharacterControllerType(){return W},get PhysicsGroup(){return G},get EPhysicsDrawFlags(){return Q}}))}}}));
