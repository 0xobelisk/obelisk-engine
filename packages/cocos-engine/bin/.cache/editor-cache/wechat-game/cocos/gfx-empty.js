System.register(["./index-92d00b49.js","./buffer-barrier-a7de2d9a.js"],(function(t){"use strict";var e,i,n,r,s,u,o,a,f,h,c,p,l,d,_,y,v,w,b,m,g,x,z,B,S,I,T,C;return{setters:[function(t){e=t.bF,i=t.aJ,n=t.l},function(t){r=t.D,s=t.B,u=t.C,o=t.b3,a=t.b4,f=t.b5,h=t.b6,c=t.bc,p=t.bd,l=t.be,d=t.bg,_=t.aV,y=t.aX,v=t.bh,w=t.b,b=t.b2,m=t.A,g=t.aI,x=t.Q,z=t.aH,B=t.bf,S=t.bi,I=t.bj,T=t.bm,C=t.b0}],execute:function(){var A=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.initialize=function(t){this._layout=t.layout},n.destroy=function(){},n.update=function(){},i}(r),P=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.initialize=function(t){if("buffer"in t){this._isBufferView=!0;var e=t.buffer;this._usage=e.usage,this._memUsage=e.memUsage,this._size=this._stride=t.range,this._count=1,this._flags=e.flags}else this._usage=t.usage,this._memUsage=t.memUsage,this._size=t.size,this._stride=Math.max(t.stride||this._size,1),this._count=this._size/this._stride,this._flags=t.flags},n.destroy=function(){},n.resize=function(){},n.update=function(){},i}(s),H=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.initialize=function(t){this._type=t.type,this._queue=t.queue},n.destroy=function(){},n.begin=function(){},n.end=function(){},n.beginRenderPass=function(){},n.endRenderPass=function(){},n.bindPipelineState=function(){},n.bindDescriptorSet=function(){},n.bindInputAssembler=function(){},n.setViewport=function(){},n.setScissor=function(){},n.setLineWidth=function(){},n.setDepthBias=function(){},n.setBlendConstants=function(){},n.setDepthBound=function(){},n.setStencilWriteMask=function(){},n.setStencilCompareMask=function(){},n.draw=function(){},n.updateBuffer=function(){},n.copyBuffersToTexture=function(){},n.execute=function(){},n.pipelineBarrier=function(){},n.blitTexture=function(){},i}(u),L=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.initialize=function(t){this._renderPass=t.renderPass,this._colorTextures=t.colorTextures||[],this._depthStencilTexture=t.depthStencilTexture||null},n.destroy=function(){},i}(o),D=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.initialize=function(t){if(this._attributes=t.attributes,this._attributesHash=this.computeAttributesHash(),this._vertexBuffers=t.vertexBuffers,t.indexBuffer)this._indexBuffer=t.indexBuffer,this._drawInfo.indexCount=this._indexBuffer.size/this._indexBuffer.stride,this._drawInfo.firstIndex=0;else{var e=this._vertexBuffers[0];this._drawInfo.vertexCount=e.size/e.stride,this._drawInfo.firstVertex=0,this._drawInfo.vertexOffset=0}},n.destroy=function(){},i}(a),q=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.initialize=function(t){Array.prototype.push.apply(this._bindings,t.bindings)},n.destroy=function(){},i}(f),E=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.initialize=function(t){Array.prototype.push.apply(this._setLayouts,t.setLayouts)},n.destroy=function(){},i}(h),j=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.initialize=function(t){this._primitive=t.primitive,this._shader=t.shader,this._pipelineLayout=t.pipelineLayout;var e=this._bs;if(t.blendState){var i=t.blendState,n=i.targets;n&&n.forEach((function(t,i){e.setTarget(i,t)})),void 0!==i.isA2C&&(e.isA2C=i.isA2C),void 0!==i.isIndepend&&(e.isIndepend=i.isIndepend),void 0!==i.blendColor&&(e.blendColor=i.blendColor)}Object.assign(this._rs,t.rasterizerState),Object.assign(this._dss,t.depthStencilState),this._is=t.inputState,this._renderPass=t.renderPass,this._dynamicStates=t.dynamicStates},n.destroy=function(){},i}(c),M=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.initialize=function(t){this._type=t.type},n.destroy=function(){},n.submit=function(){},i}(p),O=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.initialize=function(t){this._colorInfos=t.colorAttachments,this._depthStencilInfo=t.depthStencilAttachment,this._subpasses=t.subpasses,this._hash=this.computeHash()},n.destroy=function(){},i}(l),R=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.initialize=function(t){i("Shader '"+t.name+"' compilation succeeded.")},r.destroy=function(){},n}(d),U=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.initialize=function(t){var e=t;"texture"in t?(e=t.texture.info,this._isTextureView=!0,this._viewInfo.copy(t)):(this._viewInfo.texture=this,this._viewInfo.type=t.type,this._viewInfo.format=t.format,this._viewInfo.baseLevel=0,this._viewInfo.levelCount=1,this._viewInfo.baseLayer=0,this._viewInfo.layerCount=1),this._info.copy(e),this._isPowerOf2=_(this._info.width)&&_(this._info.height),this._size=y(this._info.format,this.width,this.height,this.depth,this._info.levelCount)*this._info.layerCount},n.destroy=function(){},n.getGLTextureHandle=function(){return 0},n.resize=function(t,e){this._info.width=t,this._info.height=e},n.initAsSwapchainTexture=function(){},i}(v),V=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.initialize=function(t){this._colorTexture=new U,this._colorTexture.initAsSwapchainTexture({swapchain:this,format:w.RGBA8,width:t.width,height:t.height}),this._depthStencilTexture=new U,this._depthStencilTexture.initAsSwapchainTexture({swapchain:this,format:w.DEPTH_STENCIL,width:t.width,height:t.height})},n.destroy=function(){},n.resize=function(){},i}(b),G=t("EmptyDevice",function(t){function n(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this)._swapchain=null,e}e(n,t);var r=n.prototype;return r.initialize=function(t){return this._gfxAPI=m.UNKNOWN,this._bindingMappingInfo=t.bindingMappingInfo,this._queue=this.createQueue(new g(x.GRAPHICS)),this._cmdBuff=this.createCommandBuffer(new z(this._queue)),i("Empty device initialized."),!0},r.destroy=function(){this._queue&&(this._queue.destroy(),this._queue=null),this._cmdBuff&&(this._cmdBuff.destroy(),this._cmdBuff=null),this._swapchain=null},r.flushCommands=function(){},r.acquire=function(){},r.present=function(){},r.createCommandBuffer=function(t){var e=new H;return e.initialize(t),e},r.createSwapchain=function(t){var e=new V;return this._swapchain=e,e.initialize(t),e},r.createBuffer=function(t){var e=new P;return e.initialize(t),e},r.createTexture=function(t){var e=new U;return e.initialize(t),e},r.createDescriptorSet=function(t){var e=new A;return e.initialize(t),e},r.createShader=function(t){var e=new R;return e.initialize(t),e},r.createInputAssembler=function(t){var e=new D;return e.initialize(t),e},r.createRenderPass=function(t){var e=new O;return e.initialize(t),e},r.createFramebuffer=function(t){var e=new L;return e.initialize(t),e},r.createDescriptorSetLayout=function(t){var e=new q;return e.initialize(t),e},r.createPipelineLayout=function(t){var e=new E;return e.initialize(t),e},r.createPipelineState=function(t){var e=new j;return e.initialize(t),e},r.createQueue=function(t){var e=new M;return e.initialize(t),e},r.getSampler=function(t){var e=B.computeHash(t);return this._samplers.has(e)||this._samplers.set(e,new B(t,e)),this._samplers.get(e)},r.getSwapchains=function(){return[this._swapchain]},r.getGeneralBarrier=function(t){var e=S.computeHash(t);return this._generalBarrierss.has(e)||this._generalBarrierss.set(e,new S(t,e)),this._generalBarrierss.get(e)},r.getTextureBarrier=function(t){var e=I.computeHash(t);return this._textureBarriers.has(e)||this._textureBarriers.set(e,new I(t,e)),this._textureBarriers.get(e)},r.getBufferBarrier=function(t){var e=T.computeHash(t);return this._bufferBarriers.has(e)||this._bufferBarriers.set(e,new T(t,e)),this._bufferBarriers.get(e)},r.copyBuffersToTexture=function(){},r.copyTextureToBuffers=function(){},r.copyTexImagesToTexture=function(){},n}(C));n.EmptyDevice=G,n.EmptyDevice=G}}}));
